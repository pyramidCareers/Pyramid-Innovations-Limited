"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[598],{8598:(z,m,a)=>{a.r(m),a.d(m,{RegistrationModule:()=>E});var d=a(6895),l=a(9299),r=a(4006),f=a(2340),e=a(4650),c=a(6070),g=a(9248),p=a(7392),u=a(605);function _(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *First name is required "),e.qZA())}function h(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Last name is required "),e.qZA())}function v(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Email is required "),e.qZA())}function I(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Invalid email format "),e.qZA())}function x(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,v,2,0,"div",7),e.YNc(2,I,2,0,"div",7),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.formInfo.get("email").errors?null:i.formInfo.get("email").errors.required),e.xp6(1),e.Q6J("ngIf",null==i.formInfo.get("email").errors?null:i.formInfo.get("email").errors.pattern)}}function y(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Duplicate Email "),e.qZA())}function w(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Contact number is required "),e.qZA())}function b(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Contact number must be 11 characters long "),e.qZA())}function Z(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,w,2,0,"div",7),e.YNc(2,b,2,0,"div",7),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.formInfo.get("phone").errors?null:i.formInfo.get("phone").errors.required),e.xp6(1),e.Q6J("ngIf",null==i.formInfo.get("phone").errors?null:i.formInfo.get("phone").errors.minlength)}}function C(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.togglePasswordVisibility())}),e.qZA()}2&t&&e.Q6J("svgIcon","heroicons_solid:eye")}function T(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.togglePasswordVisibility())}),e.qZA()}2&t&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function U(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Password is required "),e.qZA())}function P(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Password must be have at least one number, one uppercase, one lowercase and one special character and 8 characters "),e.qZA())}function N(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,U,2,0,"div",7),e.YNc(2,P,2,0,"div",7),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.formInfo.get("password").errors?null:i.formInfo.get("password").errors.required),e.xp6(1),e.Q6J("ngIf",null==i.formInfo.get("password").errors?null:i.formInfo.get("password").errors.pattern)}}function R(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.toggleConfirmPasswordVisibility())}),e.qZA()}2&t&&e.Q6J("svgIcon","heroicons_solid:eye")}function k(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"mat-icon",34),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.toggleConfirmPasswordVisibility())}),e.qZA()}2&t&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function q(t,n){1&t&&(e.TgZ(0,"div",33),e._uU(1," *Confirm Password does not match "),e.qZA())}function J(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,q,2,0,"div",7),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.formInfo.get("confirmPassword").errors?null:i.formInfo.get("confirmPassword").errors.matchPassword)}}function A(t,n){1&t&&(e.TgZ(0,"button",35),e._uU(1," SIGN UP "),e.qZA())}function Q(t,n){1&t&&(e.TgZ(0,"button",36),e._uU(1," SIGN UP "),e.qZA()),2&t&&e.Q6J("disabled",!0)}function Y(t,n){1&t&&(e.TgZ(0,"div",37),e._UZ(1,"app-loader"),e.qZA())}const M=[{path:"",component:(()=>{class t{constructor(i,o,s,O){this.formBuilder=i,this._router=o,this.registerApi=s,this.eventService=O,this.user={},this.showPassword=!1,this.showConfirmPassword=!1,this.duplicateMail=!1,this.loading=!1}ngOnInit(){this.formInfo=this.formBuilder.group({firstname:["",[r.kI.required]],lastname:["",[r.kI.required]],email:["",r.kI.compose([r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")])],phone:["",r.kI.compose([r.kI.required,r.kI.minLength(11)])],userType:["",[r.kI.required]],password:["",r.kI.compose([r.kI.required,r.kI.minLength(8),r.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&].{7,}$")])],confirmPassword:["",r.kI.compose([r.kI.required,r.kI.minLength(8)])]},{validator:this.matchPassword})}fillUserData(){this.user.firstname=this.formInfo.get("firstname").value,this.user.lastname=this.formInfo.get("lastname").value,this.user.email=this.formInfo.get("email").value,this.user.phone=this.formInfo.get("phone").value,this.user.password=this.formInfo.get("password").value,this.user.password_confirmation=this.formInfo.get("confirmPassword").value,this.user.user_type=this.formInfo.get("userType").value}triggerEvent(){this.eventService.triggerEvent(1)}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}matchPassword(i){const o=i.get("password"),s=i.get("confirmPassword");s.setErrors(o.value!==s.value?{matchPassword:!0}:null)}onSubmit(){this.duplicateMail=!1,this.loading=!0,this.fillUserData(),this.registerApi.register(this.user).subscribe(i=>{if(this.loading=!1,i.token&&(localStorage.setItem("auth-token",i.token),this.triggerEvent()),i.user){let o=i.user;if(o.user_type){o.firstname&&localStorage.setItem("firstname",o.firstname),o.id&&localStorage.setItem("user-id",o.id);let s=localStorage.getItem("user-id");"jobseeker"==o.user_type||"jobSeeker"==o.user_type?(localStorage.setItem("type-code",f.N.jobseeker_type_code),this._router.navigate(["jobseeker/onboarding"])):"employer"==o.user_type&&(localStorage.setItem("type-code",f.N.employer_type_code),this._router.navigate([`employer/profile/edit/${s}`]))}o.moodle_auth_token&&localStorage.setItem("moodle-token",o.moodle_auth_token)}},i=>{i.status>=400?(this.loading=!1,"The email has already been taken."==i.error.message&&(this.duplicateMail=!0,console.log(i.error.message))):this.loading=!1})}goTo(i){this._router.navigate([i])}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(r.qu),e.Y36(l.F0),e.Y36(c.c),e.Y36(g.P))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-registration"]],decls:48,vars:17,consts:[[1,"min-h-screen","flex","items-center","justify-center"],[1,"flex","flex-col","space-y-4","text-center","mt-4"],[1,"text-center"],[1,"heading"],[1,"flex","flex-col","w-60","sm:w-80","mx-auto",3,"formGroup","ngSubmit"],[1,"flex","flex-col"],["type","text","placeholder","Your First Name","required","","formControlName","firstname",1,"border","border-gray-300","px-4","py-2","placeholder-italic"],["class","error text-left text-red mt-2",4,"ngIf"],["type","text","placeholder","Your Last Name","required","","formControlName","lastname",1,"mt-5","border","border-gray-300","px-4","py-2","placeholder-italic"],["type","email","placeholder","Your Email","required","","formControlName","email",1,"mt-5","border","border-gray-300","px-4","py-2","placeholder-italic"],[4,"ngIf"],["type","text","placeholder","Your Contact Number","required","","formControlName","phone",1,"mt-5","border","border-gray-300","px-4","py-2","placeholder-italic"],[1,"relative"],["formControlName","password","placeholder","Password",1,"mt-5","border","w-full","border-gray-300","px-4","py-2","placeholder-italic",3,"type"],["class","icon-size-5 absolute right-2 top-1/2 cursor-pointer",3,"svgIcon","click",4,"ngIf"],["formControlName","confirmPassword","placeholder","Confirm Password",1,"mt-5","border","w-full","border-gray-300","px-4","py-2","placeholder-italic",3,"type"],[1,"flex","flex-col","mt-7"],[1,"text-left"],["for","userType",1,"role-label"],[1,"flex","flex-col","items-start","mt-2"],[1,"flex","items-center","space-x-2","-mt-3"],["type","radio","id","employer","firstname","userType","value","employer","formControlName","userType","required",""],["for","employer",1,"ml-1"],[1,"flex","items-center","space-x-2","-mt-4"],["type","radio","id","jobseeker","name","userType","value","jobseeker","formControlName","userType","required",""],["for","jobseeker",1,"ml-1"],["class","mt-5 signup text-white font-semibold py-2 px-4 bg-pyramid-default-primary",4,"ngIf"],["class","mt-5 signup text-white font-semibold py-2 px-4 bg-blue-100 signup-disabled",3,"disabled",4,"ngIf"],["class","flex justify-center items-center mt-3",4,"ngIf"],[1,"text-center","p-6","min-w-60","sm:w-80","mx-auto"],[1,"bg-white","border","border-black","hover:border-white","hover:bg-pyramid-default-primary","py-3","px-2","sm:px-5","hover:text-white",3,"click"],[1,"text-sm"],[1,"ml-2","font-semibold","text-sm"],[1,"error","text-left","text-red","mt-2"],[1,"icon-size-5","absolute","right-2","top-1/2","cursor-pointer",3,"svgIcon","click"],[1,"mt-5","signup","text-white","font-semibold","py-2","px-4","bg-pyramid-default-primary"],[1,"mt-5","signup","text-white","font-semibold","py-2","px-4","bg-blue-100","signup-disabled",3,"disabled"],[1,"flex","justify-center","items-center","mt-3"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Sign Up"),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(6,"div",5),e._UZ(7,"input",6),e.YNc(8,_,2,0,"div",7),e._UZ(9,"input",8),e.YNc(10,h,2,0,"div",7),e._UZ(11,"input",9),e.YNc(12,x,3,2,"div",10),e.YNc(13,y,2,0,"div",7),e._UZ(14,"input",11),e.YNc(15,Z,3,2,"div",10),e.TgZ(16,"div",12),e._UZ(17,"input",13),e.YNc(18,C,1,1,"mat-icon",14),e.YNc(19,T,1,1,"mat-icon",14),e.qZA(),e.YNc(20,N,3,2,"div",10),e.TgZ(21,"div",12),e._UZ(22,"input",15),e.YNc(23,R,1,1,"mat-icon",14),e.YNc(24,k,1,1,"mat-icon",14),e.qZA(),e.YNc(25,J,2,1,"div",10),e.TgZ(26,"div",16)(27,"div",17)(28,"label",18),e._uU(29,"Choose your role:"),e.qZA()(),e.TgZ(30,"div",19)(31,"div",20),e._UZ(32,"input",21),e.TgZ(33,"label",22),e._uU(34,"Employer"),e.qZA()(),e.TgZ(35,"div",23),e._UZ(36,"input",24),e.TgZ(37,"label",25),e._uU(38,"Jobseeker"),e.qZA()()()()(),e.YNc(39,A,2,0,"button",26),e.YNc(40,Q,2,1,"button",27),e.YNc(41,Y,2,0,"div",28),e.qZA(),e.TgZ(42,"div",29)(43,"button",30),e.NdJ("click",function(){return o.goTo("user/login")}),e.TgZ(44,"span",31),e._uU(45,"Already a member?"),e.qZA(),e.TgZ(46,"span",32),e._uU(47,"SIGN IN"),e.qZA()()()()()),2&i&&(e.xp6(5),e.Q6J("formGroup",o.formInfo),e.xp6(3),e.Q6J("ngIf",o.formInfo.get("firstname").invalid&&(o.formInfo.get("firstname").dirty||o.formInfo.get("firstname").touched)),e.xp6(2),e.Q6J("ngIf",o.formInfo.get("lastname").invalid&&(o.formInfo.get("lastname").dirty||o.formInfo.get("lastname").touched)),e.xp6(2),e.Q6J("ngIf",o.formInfo.get("email").invalid&&(o.formInfo.get("email").dirty||o.formInfo.get("email").touched)),e.xp6(1),e.Q6J("ngIf",o.duplicateMail),e.xp6(2),e.Q6J("ngIf",o.formInfo.get("phone").invalid&&(o.formInfo.get("phone").dirty||o.formInfo.get("phone").touched)),e.xp6(2),e.Q6J("type",o.showPassword?"text":"password"),e.xp6(1),e.Q6J("ngIf",!o.showPassword),e.xp6(1),e.Q6J("ngIf",o.showPassword),e.xp6(1),e.Q6J("ngIf",o.formInfo.get("password").invalid&&(o.formInfo.get("password").dirty||o.formInfo.get("password").touched)),e.xp6(2),e.Q6J("type",o.showConfirmPassword?"text":"password"),e.xp6(1),e.Q6J("ngIf",!o.showConfirmPassword),e.xp6(1),e.Q6J("ngIf",o.showConfirmPassword),e.xp6(1),e.Q6J("ngIf",o.formInfo.get("confirmPassword").invalid&&(o.formInfo.get("confirmPassword").dirty||o.formInfo.get("confirmPassword").touched)),e.xp6(14),e.Q6J("ngIf",!o.formInfo.invalid&&!o.loading),e.xp6(1),e.Q6J("ngIf",o.formInfo.invalid&&!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[d.O5,r._Y,r.Fj,r._,r.JJ,r.JL,r.Q7,p.Hw,r.sg,r.u,u.R],styles:[".placeholder-italic[_ngcontent-%COMP%]::placeholder{font-style:italic}.placeholder-italic[_ngcontent-%COMP%]:focus{border:2px solid #000000!important}input[_ngcontent-%COMP%]{height:46px!important;border:1px solid #64748b!important}.signup[_ngcontent-%COMP%]{height:44px!important}.signup-disabled[_ngcontent-%COMP%]{background-color:#00000045!important;height:44px!important}.social-link-text[_ngcontent-%COMP%]{margin-left:10px!important}.heading[_ngcontent-%COMP%]{font-weight:600!important;font-style:normal;text-rendering:optimizeLegibility;text-align:center;border-bottom:none;font-size:28px;line-height:34px;padding:0 0 15px}.signup-disabled[_ngcontent-%COMP%]{background-color:#00000045!important}.role-label[_ngcontent-%COMP%]{color:#333!important;font-weight:700!important;margin-top:26px!important}.text-red[_ngcontent-%COMP%]{color:red!important}.loader[_ngcontent-%COMP%]{border:14px solid #f3f3f3;border-top:8px solid #6ec9de;border-radius:50%;width:60px;height:60px;animation:spin .8s linear infinite}"]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(M),l.Bz]}),t})();var j=a(4466);let E=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,r.u5,S,p.Ps,r.UX,j.m]}),t})()}}]);