"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[640],{1640:(A,p,i)=>{i.r(p),i.d(p,{PaymentModule:()=>T});var r=i(6895),s=i(9299),t=i(4650),l=i(529),c=i(2340),d=i(3900),f=i(9646);let y=(()=>{class n{constructor(e){this.http=e}getPaymentInfo(e,o){const m=localStorage.getItem("auth-token");let u=new FormData;u.append("user_id",o),u.append("job_id",e);const b=new l.WM({Accept:"application/json",Authorization:"Bearer "+m});return this.http.post(`${c.N.base_URL}/api/payment/details`,u,{headers:b}).pipe((0,d.w)(x=>(0,f.of)(x)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(l.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g(n,a){1&n&&(t.TgZ(0,"div")(1,"div",9),t._UZ(2,"i",10),t.qZA(),t.TgZ(3,"div",9)(4,"h1",11),t._uU(5,"Payment Successful"),t.qZA()()())}function h(n,a){1&n&&(t.TgZ(0,"div")(1,"div",9),t._UZ(2,"i",12),t.qZA(),t.TgZ(3,"div",9)(4,"h1",13),t._uU(5,"Payment Failed"),t.qZA()()())}function v(n,a){if(1&n&&(t.TgZ(0,"div",4)(1,"h2",5),t._uU(2,"Amount paid:"),t.qZA(),t.TgZ(3,"h2"),t._uU(4),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.paymentInfo||null==e.paymentInfo.payments?null:e.paymentInfo.payments.amount)}}function I(n,a){if(1&n&&(t.TgZ(0,"div",4)(1,"h2",5),t._uU(2,"Transaction id:"),t.qZA(),t.TgZ(3,"h2"),t._uU(4),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.paymentInfo||null==e.paymentInfo.payments?null:e.paymentInfo.payments.transaction_id)}}const Z=[{path:"",component:(()=>{class n{constructor(e,o,m){this.route=e,this._router=o,this.paymentApi=m}ngOnInit(){this.jobId=localStorage.getItem("job-id");const e=localStorage.getItem("user-id");this.route.paramMap.subscribe(o=>{this.status=o.get("status")}),this.paymentApi.getPaymentInfo(this.jobId,e).subscribe(o=>{o.status&&1==o.status&&(this.paymentInfo=o?.data)})}goToJobDetails(){this._router.navigate(["jobs",this.jobId]),localStorage.removeItem("job-id")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.gz),t.Y36(s.F0),t.Y36(y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-payment-status"]],decls:25,vars:7,consts:[[1,"flex","justify-center","container"],[1,"bg-white","p-5","payment-card","mx-auto","min-w-60","shadow-lg"],[4,"ngIf"],[1,"payment-info-container"],[1,"payment-info","mb-3"],[1,"font-semibold","text-lg"],["class","payment-info mb-3",4,"ngIf"],[1,"flex","justify-center","my-7"],[1,"inline-flex","items-center","bg-pyramid-jobs-secondary","px-4","py-2","mr-3","rounded","border","hover:text-white",3,"click"],[1,"text-center"],[1,"far","fa-check-circle","mt-4","icon","status-pic",2,"color","#07c336"],[1,"text-2xl","font-bold","mb-10","mt-3","status",2,"color","#07c336 !important"],[1,"far","fa-window-close","mt-4","icon","status-pic","text-red-600"],[1,"text-2xl","font-bold","mb-10","mt-3","status","text-red-600"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,g,6,0,"div",2),t.YNc(3,h,6,0,"div",2),t.TgZ(4,"div",3)(5,"div",4)(6,"h2",5),t._uU(7,"Biller Name:"),t.qZA(),t.TgZ(8,"h2"),t._uU(9),t.qZA()(),t.TgZ(10,"div",4)(11,"h2",5),t._uU(12,"Mobile:"),t.qZA(),t.TgZ(13,"h2"),t._uU(14),t.qZA()(),t.TgZ(15,"div",4)(16,"h2",5),t._uU(17,"Email:"),t.qZA(),t.TgZ(18,"h2"),t._uU(19),t.qZA()(),t.YNc(20,v,5,1,"div",6),t.YNc(21,I,5,1,"div",6),t.qZA(),t.TgZ(22,"div",7)(23,"button",8),t.NdJ("click",function(){return o.goToJobDetails()}),t._uU(24," Back To Job Details "),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","success"==o.status),t.xp6(1),t.Q6J("ngIf","failed"==o.status),t.xp6(6),t.Oqu((null==o.paymentInfo?null:o.paymentInfo.firstname)+" "+(null==o.paymentInfo?null:o.paymentInfo.lastname)),t.xp6(5),t.Oqu(null==o.paymentInfo?null:o.paymentInfo.phone),t.xp6(5),t.Oqu(null==o.paymentInfo?null:o.paymentInfo.email),t.xp6(1),t.Q6J("ngIf","success"==o.status),t.xp6(1),t.Q6J("ngIf","success"==o.status))},dependencies:[r.O5],styles:[".container[_ngcontent-%COMP%]{margin-top:4%!important;margin-bottom:4%!important}.status-pic[_ngcontent-%COMP%]{font-size:90px!important;font-weight:700!important}.payment-card[_ngcontent-%COMP%]{max-height:37rem!important}@media only screen and (min-width: 768px){.payment-card[_ngcontent-%COMP%]{width:70%!important;max-height:32rem!important}.payment-info[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important}.status[_ngcontent-%COMP%]{font-size:32px!important}}@media only screen and (min-width: 1280px){.payment-card[_ngcontent-%COMP%]{width:33%!important}.payment-info[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;padding-left:12%!important;padding-right:12%!important}}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.Bz.forChild(Z),s.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,P]}),n})()}}]);