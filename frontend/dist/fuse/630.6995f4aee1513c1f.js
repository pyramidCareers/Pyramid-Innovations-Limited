"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[630],{2630:(F,D,c)=>{c.r(D),c.d(D,{JobDetailsModule:()=>ho});var h=c(4859),g=c(7392),u=c(9299),v=c(4466),p=c(2340),J=c(262),A=c(2843),e=c(4650),y=c(9248),b=c(8868),x=c(6325),a=c(6895),s=c(4006),d=c(605);function _(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e._uU(1," SUBMIT "),e.qZA()}}function m(o,r){1&o&&(e.TgZ(0,"button",14),e._uU(1," SUBMIT "),e.qZA())}function f(o,r){1&o&&(e.TgZ(0,"div",9),e._UZ(1,"app-loader"),e.qZA())}let T=(()=>{class o{constructor(t,n,i){this.eventService=t,this.jobApplyApi=n,this.dialogRef=i,this.loading=!1}ngOnInit(){this.job_id=localStorage.getItem("job-id")}ngOnDestroy(){localStorage.removeItem("job-id")}submit(){this.loading=!0,console.log("Here condition value is: ",this.condition_value,"Cpndition description is: ",this.condition_description),this.jobApplyApi.addApplyFee(this.job_id,"application_fee",this.condition_value,this.condition_description).subscribe(t=>{this.loading=!1,t.status&&1==t.status&&t.data&&this.eventService.feeData("fee","add",t.data),this.dialogRef.close()})}isValidated(){return!(!this.condition_value||!this.condition_description)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.P),e.Y36(b.e),e.Y36(x.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-apply-fee"]],decls:18,vars:5,consts:[[1,"flex-col","items-center","justify-center","md:min-w-120"],[1,"text-center"],[1,"heading","font-bold","text-2xl"],[1,"flex","flex-col","text-center","mx-auto"],[1,"flex","flex-col","mx-auto","mt-3",2,"width","90% !important"],[1,"flex","flex-col"],[1,"text-left","font-bold"],["type","number","required","","name","condition_value","maxlength","48",1,"mt-2","mb-4","border","border-gray-300","px-4","py-2","placeholder-italic",3,"ngModel","ngModelChange"],["type","text","required","","name","condition_description","maxlength","12",1,"mt-2","mb-4","border","border-gray-300","px-4","py-2","placeholder-italic",3,"ngModel","ngModelChange"],[1,"flex","justify-center","items-center"],["class","mt-5 w-28 rounded mr-4 sigin text-white font-semibold py-2 px-4 bg-pyramid-default-primary",3,"click",4,"ngIf"],["class","mt-5 w-28 rounded mr-4 sigin text-white font-semibold py-2 px-4 bg-gray-300 cursor-not-allowed",4,"ngIf"],["class","flex justify-center items-center",4,"ngIf"],[1,"mt-5","w-28","rounded","mr-4","sigin","text-white","font-semibold","py-2","px-4","bg-pyramid-default-primary",3,"click"],[1,"mt-5","w-28","rounded","mr-4","sigin","text-white","font-semibold","py-2","px-4","bg-gray-300","cursor-not-allowed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," Please Add Application Fee Info "),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"h1",6),e._uU(8,"Amount*"),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(l){return n.condition_value=l}),e.qZA()(),e.TgZ(10,"div",5)(11,"h1",6),e._uU(12,"Currency*"),e.qZA(),e.TgZ(13,"input",8),e.NdJ("ngModelChange",function(l){return n.condition_description=l}),e.qZA()(),e.TgZ(14,"div",9),e.YNc(15,_,2,0,"button",10),e.YNc(16,m,2,0,"button",11),e.YNc(17,f,2,0,"div",12),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("ngModel",n.condition_value),e.xp6(4),e.Q6J("ngModel",n.condition_description),e.xp6(2),e.Q6J("ngIf",!n.loading&&1==n.isValidated()),e.xp6(1),e.Q6J("ngIf",!n.loading&&0==n.isValidated()),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[a.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.nD,s.On,s.F,d.R]}),o})();var Z=c(6070);function M(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *First name is required "),e.qZA())}function Y(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Last name is required "),e.qZA())}function S(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Email is required "),e.qZA())}function L(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Invalid email format "),e.qZA())}function Q(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,S,2,0,"div",8),e.YNc(2,L,2,0,"div",8),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formInfo.get("email").errors?null:t.formInfo.get("email").errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formInfo.get("email").errors?null:t.formInfo.get("email").errors.pattern)}}function E(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *This email has already been taken "),e.qZA())}function O(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Contact number is required "),e.qZA())}function H(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Contact number must be 11 characters long "),e.qZA())}function $(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,O,2,0,"div",8),e.YNc(2,H,2,0,"div",8),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formInfo.get("phone").errors?null:t.formInfo.get("phone").errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formInfo.get("phone").errors?null:t.formInfo.get("phone").errors.minlength)}}function B(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-icon",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.togglePasswordVisibility())}),e.qZA()}2&o&&e.Q6J("svgIcon","heroicons_solid:eye")}function K(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-icon",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.togglePasswordVisibility())}),e.qZA()}2&o&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function G(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Password is required "),e.qZA())}function z(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Password must be have at least one number, one uppercase, one lowercase and one special character and 8 characters "),e.qZA())}function W(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,G,2,0,"div",8),e.YNc(2,z,2,0,"div",8),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formInfo.get("password").errors?null:t.formInfo.get("password").errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formInfo.get("password").errors?null:t.formInfo.get("password").errors.pattern)}}function V(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-icon",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleConfirmPasswordVisibility())}),e.qZA()}2&o&&e.Q6J("svgIcon","heroicons_solid:eye")}function X(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-icon",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleConfirmPasswordVisibility())}),e.qZA()}2&o&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function ee(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," *Confirm Password does not match "),e.qZA())}function te(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ee,2,0,"div",8),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formInfo.get("confirmPassword").errors?null:t.formInfo.get("confirmPassword").errors.matchPassword)}}function oe(o,r){1&o&&(e.TgZ(0,"div",23),e._UZ(1,"app-loader"),e.qZA())}let ne=(()=>{class o{constructor(t,n,i,l,C,I,w,j){this.dialogRef=t,this.formBuilder=n,this._router=i,this.registerApi=l,this.eventService=C,this.jobDetails=I,this.route=w,this.data=j,this.user={},this.showPassword=!1,this.showConfirmPassword=!1,this.duplicateMail=!1,this.loading=!1}emitValue(){this.onClose("Applied")}onClose(t){this.dialogRef.close(t)}ngOnInit(){this.formInfo=this.formBuilder.group({firstname:["",[s.kI.required]],lastname:["",[s.kI.required]],email:["",s.kI.compose([s.kI.required,s.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")])],phone:["",s.kI.compose([s.kI.required,s.kI.minLength(11)])],userType:[""],password:["",s.kI.compose([s.kI.required,s.kI.minLength(8),s.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&].{7,}$")])],confirmPassword:["",s.kI.compose([s.kI.required,s.kI.minLength(8)])]},{validator:this.matchPassword})}fillUserData(){this.user.firstname=this.formInfo.get("firstname").value,this.user.lastname=this.formInfo.get("lastname").value,this.user.email=this.formInfo.get("email").value,this.user.phone=this.formInfo.get("phone").value,this.user.password=this.formInfo.get("password").value,this.user.password_confirmation=this.formInfo.get("confirmPassword").value,this.user.user_type="jobseeker"}triggerEvent(){this.eventService.triggerEvent(1)}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}matchPassword(t){const n=t.get("password"),i=t.get("confirmPassword");i.setErrors(n.value!==i.value?{matchPassword:!0}:null)}onSubmit(){this.duplicateMail=!1,this.loading=!0,this.fillUserData(),this.registerApi.register(this.user).subscribe(t=>{if(t.token&&(localStorage.setItem("auth-token",t.token),this.triggerEvent()),t.user){let n=t.user;n.user_type&&(n.firstname&&localStorage.setItem("firstname",n.firstname),"jobseeker"==n.user_type||"jobSeeker"==n.user_type?localStorage.setItem("type-code",p.N.jobseeker_type_code):"employer"==n.user_type&&localStorage.setItem("type-code",p.N.employer_type_code)),n.moodle_auth_token&&localStorage.setItem("moodle-token",n.moodle_auth_token),n.id&&(localStorage.setItem("user-id",n.id),this.userId=n.id,this.jobDetails.applyJob(this.userId,this.data.jobId).subscribe(i=>{this.loading=!1,this.emitValue()},i=>{console.log("Error fetching all jobs:",i)}))}},t=>{t.status>=400&&(this.loading=!1,"The email has already been taken."==t.error.message&&(this.duplicateMail=!0))})}goTo(){this._router.navigateByUrl(`user/login?route=jobs&id=${this.data.jobId}`),this.dialogRef.close()}onNoClick(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.so),e.Y36(s.qu),e.Y36(u.F0),e.Y36(Z.c),e.Y36(y.P),e.Y36(b.e),e.Y36(u.gz),e.Y36(x.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-apply-modal"]],decls:37,vars:16,consts:[[1,"infxs:w-60","lg:w-100","xl:w-120"],[1,"xl:py-8"],[1,"flex","flex-col","space-y-4","text-center","mt-4"],[1,"text-white","bg-pyramid-jobs-primary","border","font-bold","uppercase","!rounded","px-3","lg:px-8","py-3","hover:bg-[#256a2a]",3,"click"],[1,"font-semibold"],[1,"flex","flex-col","w-60","sm:w-80","mx-auto",3,"formGroup","ngSubmit"],[1,"flex","flex-col"],["type","text","placeholder","Your First Name","required","","formControlName","firstname",1,"border","border-gray-300","px-4","py-2","placeholder-italic"],["class","error text-left text-red mt-2",4,"ngIf"],["type","text","placeholder","Your Last Name","required","","formControlName","lastname",1,"mt-5","border","border-gray-300","px-4","py-2","placeholder-italic"],["type","email","placeholder","Your Email","required","","formControlName","email",1,"mt-5","border","border-gray-300","px-4","py-2","placeholder-italic"],[4,"ngIf"],["type","text","placeholder","Your Contact Number","required","","formControlName","phone",1,"mt-5","border","border-gray-300","px-4","py-2","placeholder-italic"],[1,"relative"],["formControlName","password","placeholder","Password",1,"mt-5","border","w-full","border-gray-300","px-4","py-2","placeholder-italic",3,"type"],["class","icon-size-5 absolute right-2 top-1/2 cursor-pointer",3,"svgIcon","click",4,"ngIf"],["formControlName","confirmPassword","placeholder","Confirm Password",1,"mt-5","border","w-full","border-gray-300","px-4","py-2","placeholder-italic",3,"type"],["class","flex justify-center items-center mt-3",4,"ngIf"],[1,"infxs:gap-3","infxs:mt-4","md:mt-6","flex","justify-between"],["mat-button","","type","submit",1,"text-white","bg-pyramid-jobs-primary","border","font-bold","uppercase","!rounded","px-3","lg:px-8","py-3","hover:bg-[#256a2a]",3,"disabled"],["type","button","mat-button","",1,"text-white","bg-pyramid-jobs-primary","border","font-bold","uppercase","!rounded","px-3","lg:px-8","py-3","hover:bg-[#256a2a]",3,"click"],[1,"error","text-left","text-red","mt-2"],[1,"icon-size-5","absolute","right-2","top-1/2","cursor-pointer",3,"svgIcon","click"],[1,"flex","justify-center","items-center","mt-3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"button",3),e.NdJ("click",function(){return n.goTo()}),e._uU(5," Already have an account? "),e.qZA()(),e.TgZ(6,"h1",4),e._uU(7,"OR"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",6),e._UZ(10,"input",7),e.YNc(11,M,2,0,"div",8),e._UZ(12,"input",9),e.YNc(13,Y,2,0,"div",8),e._UZ(14,"input",10),e.YNc(15,Q,3,2,"div",11),e.YNc(16,E,2,0,"div",8),e._UZ(17,"input",12),e.YNc(18,$,3,2,"div",11),e.TgZ(19,"div",13),e._UZ(20,"input",14),e.YNc(21,B,1,1,"mat-icon",15),e.YNc(22,K,1,1,"mat-icon",15),e.qZA(),e.YNc(23,W,3,2,"div",11),e.TgZ(24,"div",13),e._UZ(25,"input",16),e.YNc(26,V,1,1,"mat-icon",15),e.YNc(27,X,1,1,"mat-icon",15),e.qZA(),e.YNc(28,te,2,1,"div",11),e.qZA(),e.YNc(29,oe,2,0,"div",17),e.TgZ(30,"div",18)(31,"div")(32,"button",19),e._uU(33," Apply "),e.qZA()(),e.TgZ(34,"div")(35,"button",20),e.NdJ("click",function(){return n.onNoClick()}),e._uU(36," Cancel "),e.qZA()()()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.formInfo),e.xp6(3),e.Q6J("ngIf",n.formInfo.get("firstname").invalid&&(n.formInfo.get("firstname").dirty||n.formInfo.get("firstname").touched)),e.xp6(2),e.Q6J("ngIf",n.formInfo.get("lastname").invalid&&(n.formInfo.get("lastname").dirty||n.formInfo.get("lastname").touched)),e.xp6(2),e.Q6J("ngIf",n.formInfo.get("email").invalid&&(n.formInfo.get("email").dirty||n.formInfo.get("email").touched)),e.xp6(1),e.Q6J("ngIf",n.duplicateMail),e.xp6(2),e.Q6J("ngIf",n.formInfo.get("phone").invalid&&(n.formInfo.get("phone").dirty||n.formInfo.get("phone").touched)),e.xp6(2),e.Q6J("type",n.showPassword?"text":"password"),e.xp6(1),e.Q6J("ngIf",!n.showPassword),e.xp6(1),e.Q6J("ngIf",n.showPassword),e.xp6(1),e.Q6J("ngIf",n.formInfo.get("password").invalid&&(n.formInfo.get("password").dirty||n.formInfo.get("password").touched)),e.xp6(2),e.Q6J("type",n.showConfirmPassword?"text":"password"),e.xp6(1),e.Q6J("ngIf",!n.showConfirmPassword),e.xp6(1),e.Q6J("ngIf",n.showConfirmPassword),e.xp6(1),e.Q6J("ngIf",n.formInfo.get("confirmPassword").invalid&&(n.formInfo.get("confirmPassword").dirty||n.formInfo.get("confirmPassword").touched)),e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.Q6J("disabled",n.formInfo.invalid))},dependencies:[h.lW,g.Hw,a.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,d.R],styles:[".text-red[_ngcontent-%COMP%]{color:red!important}.placeholder-italic[_ngcontent-%COMP%]:focus{border:1.5px solid #000000!important}"]}),o})();function ie(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loader"),e.qZA())}function re(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelModal())}),e._uU(1,"Cancel"),e.qZA()}}function se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.remove())}),e._uU(1,"Confirm"),e.qZA()}}let ae=(()=>{class o{constructor(t,n,i){this.dialogRef=t,this.jobApi=n,this.eventService=i,this.loading=!1}ngOnInit(){this.applyFeeId=localStorage.getItem("apply-fee-id")}ngOnDestroy(){localStorage.removeItem("apply-fee-id")}remove(){this.jobApi.removeApplyFee(this.applyFeeId).subscribe(t=>{t.status&&1==t.status&&this.eventService.feeData("fee","remove",t.data),this.cancelModal()})}cancelModal(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.so),e.Y36(b.e),e.Y36(y.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete-apply-fee"]],decls:10,vars:3,consts:[[1,"flex","items-center","md:min-w-80"],[1,"font-bold","text-2xl","text-center"],[1,"text-xl","mt-4"],[1,"flex","justify-center","mt-6","gap-x-3"],[4,"ngIf"],["class","bg-pyramid-white rounded hover:bg-pyramid-green hover:text-pyramid-white text-green-600 border border-green-600 font-bold py-2 px-4 ml-2",3,"click",4,"ngIf"],["class","  text-white rounded font-bold py-2 px-4 hover:bg-red-900","style","background-color: #b8001c;",3,"click",4,"ngIf"],[1,"bg-pyramid-white","rounded","hover:bg-pyramid-green","hover:text-pyramid-white","text-green-600","border","border-green-600","font-bold","py-2","px-4","ml-2",3,"click"],[1,"text-white","rounded","font-bold","py-2","px-4","hover:bg-red-900",2,"background-color","#b8001c",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1",1),e._uU(3,"Confirm The Action"),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Do you really want to delete the Application Fee?"),e.qZA(),e.TgZ(6,"div",3),e.YNc(7,ie,2,0,"div",4),e.YNc(8,re,2,0,"button",5),e.YNc(9,se,2,0,"button",6),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[a.O5,d.R]}),o})();function le(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loader"),e.qZA())}function de(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelModal())}),e._uU(1,"Cancel"),e.qZA()}}function ce(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.remove())}),e._uU(1,"Confirm"),e.qZA()}}let pe=(()=>{class o{constructor(t,n,i){this.dialogRef=t,this.jobApi=n,this.eventService=i,this.loading=!1}ngOnInit(){this.jobId=localStorage.getItem("job-id")}remove(){this.jobApi.removeJobReadyProgramme(this.jobId).subscribe(t=>{t.status&&1==t.status&&this.eventService.jobReadyProgramme("job-ready-programme","remove",t.data),this.cancelModal()})}cancelModal(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.so),e.Y36(b.e),e.Y36(y.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete-job-ready-programme"]],decls:10,vars:3,consts:[[1,"flex","items-center","md:min-w-80"],[1,"font-bold","text-2xl","text-center"],[1,"text-xl","mt-4"],[1,"flex","justify-center","mt-6","gap-x-3"],[4,"ngIf"],["class","bg-pyramid-white rounded hover:bg-pyramid-green hover:text-pyramid-white text-green-600 border border-green-600 font-bold py-2 px-4 ml-2",3,"click",4,"ngIf"],["class","  text-white rounded font-bold py-2 px-4 hover:bg-red-900","style","background-color: #b8001c;",3,"click",4,"ngIf"],[1,"bg-pyramid-white","rounded","hover:bg-pyramid-green","hover:text-pyramid-white","text-green-600","border","border-green-600","font-bold","py-2","px-4","ml-2",3,"click"],[1,"text-white","rounded","font-bold","py-2","px-4","hover:bg-red-900",2,"background-color","#b8001c",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1",1),e._uU(3,"Confirm The Action"),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Do you really want to delete the Job Ready Programme?"),e.qZA(),e.TgZ(6,"div",3),e.YNc(7,le,2,0,"div",4),e.YNc(8,de,2,0,"button",5),e.YNc(9,ce,2,0,"button",6),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[a.O5,d.R]}),o})();function ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e._uU(1," SUBMIT "),e.qZA()}}function _e(o,r){1&o&&(e.TgZ(0,"button",14),e._uU(1," SUBMIT "),e.qZA())}function me(o,r){1&o&&(e.TgZ(0,"div",9),e._UZ(1,"app-loader"),e.qZA())}let ge=(()=>{class o{constructor(t,n,i){this.eventService=t,this.jobApplyApi=n,this.dialogRef=i,this.loading=!1}ngOnInit(){this.job_id=localStorage.getItem("job-id"),this.condition_value=localStorage.getItem("fee"),this.condition_description=localStorage.getItem("currency"),this.applyFeeId=localStorage.getItem("apply-fee-id")}ngOnDestroy(){localStorage.removeItem("job-id"),localStorage.removeItem("fee"),localStorage.removeItem("currency")}submit(){this.loading=!0,console.log("Here condition value is: ",this.condition_value,"Cpndition description is: ",this.condition_description),this.jobApplyApi.editApplyFee(this.job_id,"application_fee",this.condition_value,this.condition_description,this.applyFeeId).subscribe(t=>{this.loading=!1,t.status&&1==t.status&&t.data&&this.eventService.feeData("fee","edit",t.data),this.dialogRef.close()})}isValidated(){return!(!this.condition_value||!this.condition_description)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.P),e.Y36(b.e),e.Y36(x.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-apply-fee"]],decls:18,vars:5,consts:[[1,"flex-col","items-center","justify-center","md:min-w-120"],[1,"text-center"],[1,"heading","font-bold","text-2xl"],[1,"flex","flex-col","text-center","mx-auto"],[1,"flex","flex-col","mx-auto","mt-3",2,"width","90% !important"],[1,"flex","flex-col"],[1,"text-left","font-bold"],["type","number","required","","name","condition_value","maxlength","48",1,"mt-2","mb-4","border","border-gray-300","px-4","py-2","placeholder-italic",3,"ngModel","ngModelChange"],["type","text","required","","name","condition_description","maxlength","12",1,"mt-2","mb-4","border","border-gray-300","px-4","py-2","placeholder-italic",3,"ngModel","ngModelChange"],[1,"flex","justify-center","items-center"],["class","mt-5 w-28 rounded mr-4 sigin text-white font-semibold py-2 px-4 bg-pyramid-default-primary",3,"click",4,"ngIf"],["class","mt-5 w-28 rounded mr-4 sigin text-white font-semibold py-2 px-4 bg-gray-300 cursor-not-allowed",4,"ngIf"],["class","flex justify-center items-center",4,"ngIf"],[1,"mt-5","w-28","rounded","mr-4","sigin","text-white","font-semibold","py-2","px-4","bg-pyramid-default-primary",3,"click"],[1,"mt-5","w-28","rounded","mr-4","sigin","text-white","font-semibold","py-2","px-4","bg-gray-300","cursor-not-allowed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," Please Add Application Fee Info "),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"h1",6),e._uU(8,"Amount*"),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(l){return n.condition_value=l}),e.qZA()(),e.TgZ(10,"div",5)(11,"h1",6),e._uU(12,"Currency*"),e.qZA(),e.TgZ(13,"input",8),e.NdJ("ngModelChange",function(l){return n.condition_description=l}),e.qZA()(),e.TgZ(14,"div",9),e.YNc(15,ue,2,0,"button",10),e.YNc(16,_e,2,0,"button",11),e.YNc(17,me,2,0,"div",12),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("ngModel",n.condition_value),e.xp6(4),e.Q6J("ngModel",n.condition_description),e.xp6(2),e.Q6J("ngIf",!n.loading&&1==n.isValidated()),e.xp6(1),e.Q6J("ngIf",!n.loading&&0==n.isValidated()),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[a.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.nD,s.On,s.F,d.R]}),o})();var fe=c(7855);function he(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loader"),e.qZA())}function be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelModal())}),e._uU(1,"Cancel"),e.qZA()}}function xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addJobReadyProgramme())}),e._uU(1,"Confirm"),e.qZA()}}let ve=(()=>{class o{constructor(t,n,i,l){this._router=t,this.eventService=n,this.dialogRef=i,this.jobApi=l,this.loading=!1}ngOnInit(){this.jobId=localStorage.getItem("job-id"),this.jobTitle=localStorage.getItem("job-title")}addJobReadyProgramme(){this.jobApi.addJobReadyProgramme(this.jobId,this.jobTitle).subscribe(t=>{t.status&&1==t.status&&(this.eventService.jobReadyProgramme("job-ready-programme","add",t.data),this.cancelModal())}),this.cancelModal()}cancelModal(){this.dialogRef.close()}ngOnDestroy(){localStorage.removeItem("job-id"),localStorage.removeItem("job-title")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.F0),e.Y36(y.P),e.Y36(fe.zj),e.Y36(b.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-job-ready-modal"]],decls:10,vars:3,consts:[[1,"flex","items-center","md:min-w-80"],[1,"font-bold","text-2xl","text-center"],[1,"text-xl","mt-4"],[1,"flex","justify-center","mt-6","gap-x-3"],[4,"ngIf"],["class","bg-pyramid-white rounded hover:bg-red-600 hover:text-pyramid-white text-red-600 border border-red-600 font-bold py-2 px-4 ml-2",3,"click",4,"ngIf"],["class","  text-white rounded font-bold py-2 px-4 hover:bg-green-900","style","background-color: rgb(70, 171, 70);",3,"click",4,"ngIf"],[1,"bg-pyramid-white","rounded","hover:bg-red-600","hover:text-pyramid-white","text-red-600","border","border-red-600","font-bold","py-2","px-4","ml-2",3,"click"],[1,"text-white","rounded","font-bold","py-2","px-4","hover:bg-green-900",2,"background-color","rgb(70, 171, 70)",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1",1),e._uU(3,"Confirm The Action"),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Do you really want to add job ready programme?"),e.qZA(),e.TgZ(6,"div",3),e.YNc(7,he,2,0,"div",4),e.YNc(8,be,2,0,"button",5),e.YNc(9,xe,2,0,"button",6),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[a.O5,d.R]}),o})();function ye(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loader"),e.qZA())}function Ce(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelModal())}),e._uU(1,"Cancel"),e.qZA()}}function Te(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.unlockJob())}),e._uU(1,"Confirm"),e.qZA()}}let Ie=(()=>{class o{constructor(t,n,i){this.data=t,this._router=n,this.dialogRef=i,this.loading=!1,this.jobId=t}unlockJob(){this.cancelModal(),this._router.navigate(["jobs",this.jobId,"pet","create"],{queryParams:{unlock:"1"}})}cancelModal(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.WI),e.Y36(u.F0),e.Y36(x.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-unlock-modal"]],decls:10,vars:3,consts:[[1,"flex","items-center","md:min-w-80"],[1,"font-bold","text-2xl","text-center"],[1,"text-xl","mt-4"],[1,"flex","justify-center","mt-6","gap-x-3"],[4,"ngIf"],["class","bg-pyramid-white rounded hover:bg-red-600 hover:text-pyramid-white text-red-600 border border-red-600 font-bold py-2 px-4 ml-2",3,"click",4,"ngIf"],["class","  text-white rounded font-bold py-2 px-4 hover:bg-green-900","style","background-color: rgb(70, 171, 70);",3,"click",4,"ngIf"],[1,"bg-pyramid-white","rounded","hover:bg-red-600","hover:text-pyramid-white","text-red-600","border","border-red-600","font-bold","py-2","px-4","ml-2",3,"click"],[1,"text-white","rounded","font-bold","py-2","px-4","hover:bg-green-900",2,"background-color","rgb(70, 171, 70)",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1",1),e._uU(3,"Confirm The Action"),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Do you really want to unlock the job?"),e.qZA(),e.TgZ(6,"div",3),e.YNc(7,ye,2,0,"div",4),e.YNc(8,Ce,2,0,"button",5),e.YNc(9,Te,2,0,"button",6),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[a.O5,d.R]}),o})();var U=c(529),we=c(3900),Ae=c(9646);let Je=(()=>{class o{constructor(t){this.http=t}getPETCompletionStatus(t){const n=localStorage.getItem("auth-token"),i=localStorage.getItem("user-id");let l=new FormData;l.append("user_id",i),l.append("job_id",t);const C=new U.WM({Accept:"application/json",Authorization:"Bearer "+n});return this.http.post(`${p.N.base_URL}/api/get-completion-status`,l,{headers:C}).pipe((0,we.w)(I=>(0,Ae.of)(I)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(U.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var P=c(6430);function Ze(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loader"),e.qZA())}function ke(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelModal())}),e._uU(1,"Cancel"),e.qZA()}}function je(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.remove())}),e._uU(1,"Confirm"),e.qZA()}}let De=(()=>{class o{constructor(t,n,i){this.dialogRef=t,this.petAPI=n,this.eventService=i,this.loading=!1}ngOnInit(){this.courseID=localStorage.getItem("course-id")}ngOnDestroy(){localStorage.removeItem("course-id")}remove(){this.petAPI.deletePET(this.courseID).subscribe(t=>{t.status&&1==t.status&&this.eventService.petData("pet","remove",t.data),this.cancelModal()})}cancelModal(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.so),e.Y36(P.$),e.Y36(y.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete-pet"]],decls:10,vars:3,consts:[[1,"flex","items-center","md:min-w-80"],[1,"font-bold","text-2xl","text-center"],[1,"text-xl","mt-4"],[1,"flex","justify-center","mt-6","gap-x-3"],[4,"ngIf"],["class","bg-pyramid-white rounded hover:bg-pyramid-green hover:text-pyramid-white text-green-600 border border-green-600 font-bold py-2 px-4 ml-2",3,"click",4,"ngIf"],["class","  text-white rounded font-bold py-2 px-4 hover:bg-red-900","style","background-color: #b8001c;",3,"click",4,"ngIf"],[1,"bg-pyramid-white","rounded","hover:bg-pyramid-green","hover:text-pyramid-white","text-green-600","border","border-green-600","font-bold","py-2","px-4","ml-2",3,"click"],[1,"text-white","rounded","font-bold","py-2","px-4","hover:bg-red-900",2,"background-color","#b8001c",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1",1),e._uU(3,"Confirm The Action"),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Do you really want to delete the data?"),e.qZA(),e.TgZ(6,"div",3),e.YNc(7,Ze,2,0,"div",4),e.YNc(8,ke,2,0,"button",5),e.YNc(9,je,2,0,"button",6),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[a.O5,d.R]}),o})();var k=c(3922);function Me(o,r){1&o&&(e.TgZ(0,"div",2),e._uU(1,"ASSOCIATED COURSES"),e.qZA())}function Pe(o,r){1&o&&(e.TgZ(0,"div",2),e._uU(1,"Prerequisite Courses"),e.qZA())}function Ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"mat-icon",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.deleteCourse(i.id))}),e._uU(2,"delete"),e.qZA()()}}function Ue(o,r){1&o&&(e.TgZ(0,"span",13),e._uU(1," Incomplete "),e.qZA())}function Re(o,r){1&o&&(e.TgZ(0,"span",14),e._uU(1," Complete "),e.qZA())}function qe(o,r){if(1&o&&(e.TgZ(0,"div",10),e.YNc(1,Ue,2,0,"span",11),e.YNc(2,Re,2,0,"span",12),e.qZA()),2&o){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("ngIf","*"==n.courseStatus[t]),e.xp6(1),e.Q6J("ngIf","1"==n.courseStatus[t])}}function Fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h2",5),e.NdJ("click",function(){const l=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.gotoCourse(l.condition_value))}),e._uU(3),e.qZA()(),e.YNc(4,Ne,3,0,"div",6),e.YNc(5,qe,3,2,"div",7),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw();e.xp6(3),e.hij(" ",t.condition_description," "),e.xp6(1),e.Q6J("ngIf",n.editAccess),e.xp6(1),e.Q6J("ngIf",!n.editAccess&&n.isJobseeker&&n.isLoggedin)}}let Ye=(()=>{class o{constructor(t,n,i,l){this.dialog=t,this._router=n,this.eventService=i,this._getToken=l,this.returnURL=window.location.href}ngOnInit(){this.eventService.event$.subscribe(t=>{if("remove"===t.action&&"pet"===t.source){const n=this.courses.findIndex(i=>i.id===t.obj.id);-1!=n&&this.courses.splice(n,1)}}),this.isLoggedin=!!localStorage.getItem("auth-token"),this.isJobseeker=localStorage.getItem("type-code")==p.N.jobseeker_type_code}gotoCourse(t){const n=p.N.moodle_base_URL+"/course/view.php?id="+t;this._getToken.getToken(localStorage.getItem("user-email"),localStorage.getItem("moodle-token"),n,this.returnURL).subscribe(i=>{window.open(`${p.N.moodle_base_URL}/auth/pyramid/callback.php?token=${i?.data?.jwtToken}`,"_blank")})}deleteCourse(t){localStorage.setItem("course-id",t),this.dialog.open(De)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.uw),e.Y36(u.F0),e.Y36(y.P),e.Y36(k.W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-course-list"]],inputs:{courses:"courses",courseStatus:"courseStatus",jobID:"jobID",editAccess:"editAccess"},decls:4,vars:3,consts:[["class","text-lg font-medium uppercase mb-3",4,"ngIf"],["class","flex justify-between w-full gap-x-4  main-container md:pr-3",4,"ngFor","ngForOf"],[1,"text-lg","font-medium","uppercase","mb-3"],[1,"flex","justify-between","w-full","gap-x-4","main-container","md:pr-3"],[1,"contents"],[1,"text-pyramid-blue","py-1.5","cursor-pointer",3,"click"],["class","flex actions",4,"ngIf"],["class","flex actions course-status  py-1.5 sm:mr-5",4,"ngIf"],[1,"flex","actions"],[1,"cursor-pointer",3,"click"],[1,"flex","actions","course-status","py-1.5","sm:mr-5"],["class"," text-red-600 h-2  font-[500] my-auto text-sm  rounded dark:bg-red-900 dark:text-red-300",4,"ngIf"],["class"," text-green-600 h-2  font-[500] my-auto text-sm  rounded dark:bg-green-900 dark:text-green-300",4,"ngIf"],[1,"text-red-600","h-2","font-[500]","my-auto","text-sm","rounded","dark:bg-red-900","dark:text-red-300"],[1,"text-green-600","h-2","font-[500]","my-auto","text-sm","rounded","dark:bg-green-900","dark:text-green-300"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.YNc(1,Me,2,0,"div",0),e.YNc(2,Pe,2,0,"div",0),e.YNc(3,Fe,6,3,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.courses.length>0&&n.editAccess),e.xp6(1),e.Q6J("ngIf",n.courses.length>0&&!n.editAccess),e.xp6(1),e.Q6J("ngForOf",n.courses))},dependencies:[g.Hw,a.sg,a.O5],styles:["@media only screen and (min-width: 767px) and (max-width: 1023px){.course-status[_ngcontent-%COMP%]{margin-right:6px!important}}@media only screen and (min-width: 1024px){.main-container[_ngcontent-%COMP%]{min-width:22rem!important}.contents[_ngcontent-%COMP%]{width:83%!important}.actions[_ngcontent-%COMP%]{width:17%!important}}"]}),o})();function Se(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loader"),e.qZA())}function Le(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelModal())}),e._uU(1,"Cancel"),e.qZA()}}function Qe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.remove())}),e._uU(1,"Confirm"),e.qZA()}}let Ee=(()=>{class o{constructor(t,n,i){this.dialogRef=t,this.jobApi=n,this.eventService=i,this.loading=!1}ngOnInit(){this.courseId=localStorage.getItem("course-id"),this.jobId=localStorage.getItem("job-id"),console.log("Here course id: ",this.courseId,"Job Id: ",this.jobId)}ngOnDestroy(){localStorage.removeItem("apply-fee-id")}remove(){this.jobApi.removeJobReadyCourse(this.jobId,this.courseId).subscribe(t=>{t.status&&1==t.status&&this.eventService.jobReadyCourse("job-ready-course","remove",t.data),this.cancelModal()})}cancelModal(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.so),e.Y36(b.e),e.Y36(y.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete-job-ready-course"]],decls:10,vars:3,consts:[[1,"flex","items-center","md:min-w-80"],[1,"font-bold","text-2xl","text-center"],[1,"text-xl","mt-4"],[1,"flex","justify-center","mt-6","gap-x-3"],[4,"ngIf"],["class","bg-pyramid-white rounded hover:bg-pyramid-green hover:text-pyramid-white text-green-600 border border-green-600 font-bold py-2 px-4 ml-2",3,"click",4,"ngIf"],["class","  text-white rounded font-bold py-2 px-4 hover:bg-red-900","style","background-color: #b8001c;",3,"click",4,"ngIf"],[1,"bg-pyramid-white","rounded","hover:bg-pyramid-green","hover:text-pyramid-white","text-green-600","border","border-green-600","font-bold","py-2","px-4","ml-2",3,"click"],[1,"text-white","rounded","font-bold","py-2","px-4","hover:bg-red-900",2,"background-color","#b8001c",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1",1),e._uU(3,"Confirm The Action"),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Do you really want to delete the Job Ready Course?"),e.qZA(),e.TgZ(6,"div",3),e.YNc(7,Se,2,0,"div",4),e.YNc(8,Le,2,0,"button",5),e.YNc(9,Qe,2,0,"button",6),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[a.O5,d.R]}),o})();function Oe(o,r){1&o&&(e.TgZ(0,"div",2),e._uU(1,"JOB READY COURSES"),e.qZA())}function He(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-icon",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.deleteCourse(i.job_id,i.course_id))}),e._uU(2,"delete"),e.qZA()()}}function $e(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h2",5),e.NdJ("click",function(){const l=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.gotoCourse(null==l?null:l.course_id))}),e._uU(3),e.qZA()(),e.YNc(4,He,3,0,"div",6),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw();e.xp6(3),e.hij(" ",null==t?null:t.course_name," "),e.xp6(1),e.Q6J("ngIf",n.editAccess)}}let Be=(()=>{class o{constructor(t,n,i,l){this.dialog=t,this._router=n,this.eventService=i,this._getToken=l,this.returnURL=window.location.href}ngOnInit(){this.eventService.event$.subscribe(t=>{if("remove"===t.action&&"job-ready-course"===t.source){const n=this.courses.findIndex(i=>i.id===t.obj.id);-1!=n&&this.courses.splice(n,1)}}),this.isLoggedin=!!localStorage.getItem("auth-token"),this.isJobseeker=localStorage.getItem("type-code")==p.N.jobseeker_type_code}gotoCourse(t){const n=p.N.moodle_base_URL+"/course/view.php?id="+t;this._getToken.getToken(localStorage.getItem("user-email"),localStorage.getItem("moodle-token"),n,this.returnURL).subscribe(i=>{window.open(`${p.N.moodle_base_URL}/auth/pyramid/callback.php?token=${i?.data?.jwtToken}`,"_blank")})}deleteCourse(t,n){localStorage.setItem("course-id",n),localStorage.setItem("job-id",t),this.dialog.open(Ee)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.uw),e.Y36(u.F0),e.Y36(y.P),e.Y36(k.W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-job-ready-courses"]],inputs:{courses:"courses",jobID:"jobID",editAccess:"editAccess"},decls:3,vars:2,consts:[["class","text-lg font-medium uppercase mb-3",4,"ngIf"],["class","flex justify-between w-full gap-x-4  main-container md:pr-3",4,"ngFor","ngForOf"],[1,"text-lg","font-medium","uppercase","mb-3"],[1,"flex","justify-between","w-full","gap-x-4","main-container","md:pr-3"],[1,"contents"],[1,"text-pyramid-blue","py-1.5","cursor-pointer",3,"click"],["class","flex actions",4,"ngIf"],[1,"flex","actions"],[1,"cursor-pointer",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.YNc(1,Oe,2,0,"div",0),e.YNc(2,$e,5,2,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.courses.length>0),e.xp6(1),e.Q6J("ngForOf",n.courses))},dependencies:[g.Hw,a.sg,a.O5],styles:["@media only screen and (min-width: 767px) and (max-width: 1023px){.course-status[_ngcontent-%COMP%]{margin-right:6px!important}}@media only screen and (min-width: 1024px){.main-container[_ngcontent-%COMP%]{min-width:22rem!important}.contents[_ngcontent-%COMP%]{width:83%!important}.actions[_ngcontent-%COMP%]{width:17%!important}}"]}),o})();function Ke(o,r){1&o&&(e.TgZ(0,"div",3)(1,"h1",4),e._uU(2," *This job is no longer available "),e.qZA()())}function Ge(o,r){1&o&&(e.TgZ(0,"div",7),e._UZ(1,"app-loader"),e.qZA())}function ze(o,r){if(1&o&&(e.TgZ(0,"button",46),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.details?null:t.details.companyinfo.org_name," ")}}function We(o,r){if(1&o&&(e.TgZ(0,"li",47),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.details?null:t.details.location," ")}}function Ve(o,r){if(1&o&&(e.TgZ(0,"div",48),e.O4$(),e.TgZ(1,"svg",49)(2,"g",19)(3,"g",50)(4,"g",21)(5,"g",22)(6,"g",51)(7,"g",23),e._UZ(8,"path",52)(9,"path",53),e.qZA()()()()()()(),e.kcU(),e.TgZ(10,"span",54)(11,"strong"),e._uU(12,"Industry:"),e.qZA(),e._uU(13),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(13),e.hij(" ",null==t.details||null==t.details.companyinfo?null:t.details.companyinfo.industry," ")}}function Xe(o,r){if(1&o&&(e.TgZ(0,"div",55)(1,"h1",56),e._uU(2,"Description"),e.qZA(),e._UZ(3,"p",57),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.description,e.oJD)}}function et(o,r){if(1&o&&(e.TgZ(0,"div",55)(1,"h1",56),e._uU(2,"Requirement Details"),e.qZA(),e._UZ(3,"p",57),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.requirement_details,e.oJD)}}function tt(o,r){if(1&o&&(e.TgZ(0,"div",55)(1,"h1",56),e._uU(2," Additional Requirements "),e.qZA(),e._UZ(3,"p",57),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.additional_requirements,e.oJD)}}function ot(o,r){if(1&o&&(e.TgZ(0,"div",55)(1,"h1",58),e._uU(2,"Responsibilities"),e.qZA(),e._UZ(3,"p",57),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.responsibilities,e.oJD)}}function nt(o,r){if(1&o&&(e.TgZ(0,"div",55)(1,"h1",58),e._uU(2,"Other Benifits"),e.qZA(),e._UZ(3,"p",57),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.other_benefits,e.oJD)}}function it(o,r){if(1&o&&(e.TgZ(0,"div",59)(1,"h1",56),e._uU(2,"Category :"),e.qZA(),e._UZ(3,"p",60),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.category,e.oJD)}}function rt(o,r){if(1&o&&(e.TgZ(0,"div",61)(1,"h1",56),e._uU(2,"Job Type :"),e.qZA(),e._UZ(3,"p",60),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.job_type,e.oJD)}}function st(o,r){if(1&o&&(e.TgZ(0,"div",61)(1,"h1",56),e._uU(2," Application Deadline : "),e.qZA(),e.TgZ(3,"p",62),e._uU(4),e.ALo(5,"Date"),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(4),e.hij(" ",e.lcZ(5,1,null==t.details?null:t.details.application_deadline)," ")}}function at(o,r){if(1&o&&(e.TgZ(0,"div",61)(1,"h1",56),e._uU(2,"Number of Vacancies :"),e.qZA(),e._UZ(3,"p",60),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.number_of_vacancies,e.oJD)}}function lt(o,r){if(1&o&&(e.TgZ(0,"div",61)(1,"h1",56),e._uU(2,"Experience Level :"),e.qZA(),e._UZ(3,"p",60),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("innerHTML",null==t.details?null:t.details.experience_level,e.oJD)}}function dt(o,r){if(1&o&&(e.TgZ(0,"div",63)(1,"h1",56),e._uU(2," Experience Requirement : "),e.qZA(),e.TgZ(3,"p",62),e._UZ(4,"span",57),e._uU(5," - "),e._UZ(6,"span",57),e._uU(7," year(s) "),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("innerHTML",null==t.details?null:t.details.experience_lower_limit,e.oJD),e.xp6(2),e.Q6J("innerHTML",null==t.details?null:t.details.experience_upper_limit,e.oJD)}}function ct(o,r){1&o&&(e.TgZ(0,"div",69),e._UZ(1,"app-loader"),e.qZA())}const pt=function(o,r,t){return{"uppercase px-24 py-2 bg-[#338f3a] hover:bg-[#256a2a] text-white rounded":o,"font-bold":r,"!px-10":t}};function ut(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.applyNow())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(4);e.Q6J("ngClass",e.kEZ(3,pt,"Apply"===t.applybtn||"Apply On Company Site"===t.applybtn,"Apply"!==t.applybtn,"Apply On Company Site"===t.applybtn))("disabled",1===(null==t.details?null:t.details.status)),e.xp6(1),e.hij(" ",t.applybtn," ")}}function _t(o,r){1&o&&(e.TgZ(0,"div",72)(1,"h1"),e._uU(2,"Applied"),e.qZA()())}function mt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.setFavouriteStatus())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.favouriteBtn," ")}}function gt(o,r){if(1&o&&(e.TgZ(0,"div",64),e.YNc(1,ct,2,0,"div",65),e.TgZ(2,"div",66),e.YNc(3,ut,2,7,"button",67),e.YNc(4,_t,3,0,"div",68),e.qZA(),e.TgZ(5,"div",69),e.YNc(6,mt,2,1,"button",70),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(2),e.Q6J("ngIf","Applied"!=t.applybtn&&!t.loading),e.xp6(1),e.Q6J("ngIf","Applied"==t.applybtn&&!t.loading),e.xp6(2),e.Q6J("ngIf",!t.loading)}}function ft(o,r){1&o&&(e.TgZ(0,"div",74)(1,"div",75),e._uU(2," Status: Pending "),e.qZA()())}function ht(o,r){if(1&o&&e._UZ(0,"app-course-list",79),2&o){const t=e.oxw(4);e.Q6J("courses",t.courses)("jobID",t.jobId)("editAccess",t.isAllowedToCRUD())("courseStatus",t.courseStatusArr)}}function bt(o,r){1&o&&(e.TgZ(0,"span",54),e._UZ(1,"i",83),e.qZA())}function xt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",80)(1,"button",81),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.addPET())}),e._uU(2," ADD PRE EMPLOYMENT TEST "),e.YNc(3,bt,2,0,"span",82),e.qZA()()}if(2&o){const t=e.oxw(4);e.xp6(3),e.Q6J("ngIf",t.cntApplicants>0)}}function vt(o,r){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,ht,1,4,"app-course-list",77),e.YNc(2,xt,4,1,"div",78),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",1==t.isVisiblePET()),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD())}}function yt(o,r){1&o&&(e.TgZ(0,"div",69),e._UZ(1,"app-loader"),e.qZA())}function Ct(o,r){if(1&o&&e._UZ(0,"div",88),2&o){const t=e.oxw(4);e.Q6J("innerHTML",t.applyFeeText+t.applyFee+"  "+t.currency,e.oJD)}}function Tt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.makePayment())}),e._uU(1," PAY NOW "),e.qZA()}}function It(o,r){1&o&&(e.TgZ(0,"div",90)(1,"div",91),e._uU(2," Payment Complete "),e.qZA()())}function wt(o,r){if(1&o&&(e.TgZ(0,"div",84),e.YNc(1,yt,2,0,"div",65),e.YNc(2,Ct,1,1,"div",85),e.YNc(3,Tt,2,0,"button",86),e.YNc(4,It,3,0,"div",87),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading&&t.applyFee>0),e.xp6(1),e.Q6J("ngIf",!t.isPaymentComplete&&t.isLogin&&t.applyFee>0&&"Applied"==t.applybtn),e.xp6(1),e.Q6J("ngIf",t.isPaymentComplete&&t.isLogin)}}function At(o,r){1&o&&(e.TgZ(0,"div",69),e._UZ(1,"app-loader"),e.qZA())}function Jt(o,r){if(1&o&&e._UZ(0,"div",88),2&o){const t=e.oxw(4);e.Q6J("innerHTML",t.applyFeeText+t.applyFee+"  "+t.currency,e.oJD)}}function Zt(o,r){if(1&o&&(e.TgZ(0,"div",84),e.YNc(1,At,2,0,"div",65),e.YNc(2,Jt,1,1,"div",85),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}function kt(o,r){1&o&&(e.TgZ(0,"div",69),e._UZ(1,"app-loader"),e.qZA())}function jt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",96),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.addApplyFee())}),e._uU(1," ADD APPLICATION FEE "),e.qZA()}}function Dt(o,r){if(1&o&&e._UZ(0,"div",97),2&o){const t=e.oxw(4);e.Q6J("innerHTML",t.applyFeeText+t.applyFee+"  "+t.currency,e.oJD)}}function Mt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",98)(1,"mat-icon",99),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.updateApplyFee())}),e._uU(2,"edit"),e.qZA(),e.TgZ(3,"mat-icon",99),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.deleteApplyFee())}),e._uU(4,"delete"),e.qZA()()}}const Pt=function(o){return{"justify-content":o}};function Nt(o,r){if(1&o&&(e.TgZ(0,"div",92),e.YNc(1,kt,2,0,"div",65),e.YNc(2,jt,2,0,"button",93),e.YNc(3,Dt,1,1,"div",94),e.YNc(4,Mt,5,0,"div",95),e.qZA()),2&o){const t=e.oxw(3);e.Q6J("ngStyle",e.VKq(5,Pt,"space-between")),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",0==t.applyFee),e.xp6(1),e.Q6J("ngIf",!t.loading&&t.applyFee>0),e.xp6(1),e.Q6J("ngIf",!t.loading&&t.applyFee>0)}}function Ut(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",100)(1,"button",101),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.goToJobEditPage())}),e._uU(2," EDIT JOB DETAILS "),e.qZA()()}}function Rt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",100)(1,"button",101),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.viewApplicants())}),e._uU(2," VIEW APPLICANTS "),e.qZA()()}}function qt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",100)(1,"button",101),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.openJobReadyConfirmModal())}),e._uU(2," ADD JOB READY PROGRAMME "),e.qZA()()}}function Ft(o,r){1&o&&(e.TgZ(0,"div",104)(1,"h1",105),e._uU(2," Job Ready Programme Available "),e.qZA()())}function Yt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",108)(1,"mat-icon",99),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(5);return e.KtG(i.removeJobReadyProgramme())}),e._uU(2,"cancel"),e.qZA()()}}function St(o,r){if(1&o&&(e.TgZ(0,"div",109),e._UZ(1,"app-job-ready-courses",110),e.qZA()),2&o){const t=e.oxw(5);e.xp6(1),e.Q6J("courses",t.jobReadyCourses)("jobID",t.jobId)("editAccess",t.isAllowedToCRUD())}}function Lt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",90)(1,"button",111),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(5);return e.KtG(i.goToJobReady())}),e._uU(2," ADD JOB READY COURSE "),e.qZA()()}}function Qt(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Yt,3,0,"div",106),e.YNc(2,St,2,3,"div",107),e.YNc(3,Lt,3,0,"div",87),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0==t.jobReadyCourses.length&&1==t.isAllowedToCRUD()),e.xp6(1),e.Q6J("ngIf",t.jobReadyCourses.length>0),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD())}}function Et(o,r){if(1&o&&(e.TgZ(0,"div",102),e.YNc(1,Ft,3,0,"div",103),e.YNc(2,Qt,4,3,"div",2),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",1==t.isItJobSeeker()&&!t.nominatedForJobReadyProgramme),e.xp6(1),e.Q6J("ngIf",!(1==t.isItJobSeeker()&&!t.nominatedForJobReadyProgramme))}}function Ot(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",112)(1,"div",113)(2,"label",114)(3,"input",115),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw(3);return e.KtG(l.isPublished=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.toggleJobStatus())}),e.qZA(),e._UZ(4,"span",116),e.qZA(),e.TgZ(5,"div",117),e._uU(6,"Published"),e.qZA()()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.isPublished)}}function Ht(o,r){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div"),e.YNc(3,ze,2,1,"button",10),e.TgZ(4,"h1",11),e._uU(5),e.qZA(),e.TgZ(6,"h3",12),e._uU(7),e.ALo(8,"date"),e.YNc(9,We,2,1,"li",13),e.qZA()(),e.TgZ(10,"div",14)(11,"div")(12,"h2",15),e._uU(13,"ABOUT US"),e.qZA(),e.TgZ(14,"p",16),e._uU(15),e.ALo(16,"slice"),e.qZA(),e.TgZ(17,"ul",17)(18,"li"),e.O4$(),e.TgZ(19,"svg",18)(20,"g",19)(21,"g",20)(22,"g",21)(23,"g",22)(24,"g",23),e._UZ(25,"path",24)(26,"path",25)(27,"path",26)(28,"path",27),e.qZA()()()()()(),e.kcU(),e.TgZ(29,"span",28)(30,"strong"),e._uU(31,"Size:"),e.qZA(),e._uU(32),e.qZA()(),e.TgZ(33,"li"),e.YNc(34,Ve,14,1,"div",29),e.qZA()()(),e.TgZ(35,"div",30),e._UZ(36,"img",31),e.qZA()(),e.TgZ(37,"div"),e.YNc(38,Xe,4,1,"div",32),e.YNc(39,et,4,1,"div",32),e.YNc(40,tt,4,1,"div",32),e.YNc(41,ot,4,1,"div",32),e.YNc(42,nt,4,1,"div",32),e.YNc(43,it,4,1,"div",33),e.YNc(44,rt,4,1,"div",34),e.YNc(45,st,6,3,"div",34),e.YNc(46,at,4,1,"div",34),e.YNc(47,lt,4,1,"div",34),e.YNc(48,dt,8,2,"div",35),e.qZA()(),e.TgZ(49,"div",36)(50,"div",37),e.YNc(51,gt,7,4,"div",38),e.YNc(52,ft,3,0,"div",39),e.YNc(53,vt,3,2,"div",40),e.YNc(54,wt,5,4,"div",41),e.YNc(55,Zt,3,2,"div",41),e.YNc(56,Nt,5,7,"div",42),e.YNc(57,Ut,3,0,"div",43),e.YNc(58,Rt,3,0,"div",43),e.YNc(59,qt,3,0,"div",43),e.YNc(60,Et,3,2,"div",44),e.YNc(61,Ot,7,1,"div",45),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",null!==(null==t.details?null:t.details.companyinfo.org_url)),e.xp6(2),e.hij(" ",null==t.details?null:t.details.title," "),e.xp6(2),e.hij(" ",e.lcZ(8,31,null==t.details?null:t.details.created_at)," "),e.xp6(2),e.Q6J("ngIf",null!==(null==t.details?null:t.details.location)),e.xp6(6),e.hij(" ",e.Dn7(16,33,null==t.details?null:t.details.companyinfo.org_details,0,240)," "),e.xp6(17),e.AsE(" ",null==t.details?null:t.details.companyinfo.org_size_lower_limit," - ",null==t.details?null:t.details.companyinfo.org_size_upper_limit," employees "),e.xp6(2),e.Q6J("ngIf",null!==(null==t.details||null==t.details.companyinfo?null:t.details.companyinfo.industry)),e.xp6(2),e.Q6J("src",null==t.details?null:t.details.companyinfo.logo,e.LSH),e.xp6(2),e.Q6J("ngIf",null!==(null==t.details?null:t.details.description)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.requirement_details)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.additional_requirements)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.responsibilities)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.other_benefits)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.category)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.job_type)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.application_deadline)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.number_of_vacancies)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.experience_level)),e.xp6(1),e.Q6J("ngIf",null!==(null==t.details?null:t.details.experience_lower_limit)&&null!==(null==t.details?null:t.details.experience_upper_limit)),e.xp6(3),e.Q6J("ngIf",1==t.isJobseekerOrLoggedOut()),e.xp6(1),e.Q6J("ngIf",!t.loading&&1==t.isItJobSeeker()&&"Applied"==t.applybtn&&t.isStatusPending),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD()||1==t.isVisiblePET()),e.xp6(1),e.Q6J("ngIf",(1==t.isItJobSeeker()||!t.isLogin)&&t.applyFee>0),e.xp6(1),e.Q6J("ngIf",1==t.isItEmployer()&&0==t.isAllowedToCRUD()&&t.applyFee>0),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD()),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD()),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD()),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD()&&!t.isJobReady),e.xp6(1),e.Q6J("ngIf",t.isLogin&&t.isJobReady),e.xp6(1),e.Q6J("ngIf",1==t.isAllowedToCRUD())}}function $t(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Ge,2,0,"div",5),e.YNc(2,Ht,62,37,"div",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.loadingRes),e.xp6(1),e.Q6J("ngIf",!t.loadingRes)}}let Bt=(()=>{class o{constructor(t,n,i,l,C,I,w){this.route=t,this.router=n,this.jobDetails=i,this.petApi=l,this.dialog=C,this._router=I,this.eventService=w,this.loading=!1,this.applybtn="Apply",this.favouriteBtn="Add To Favourite",this.loadingRes=!1,this.isPublished=!1,this.isFavourite=!1,this.jobStatusLoader=!1,this.isJobseeker=!1,this.isStatusPending=!1,this.isPaymentComplete=!1,this.empId=-1,this.courses=[],this.jobReadyCourses=[],this.courseStatusArr=[],this.isErrorOccured=!1,this.isLinkAvailable=!1,this.applyFee=0,this.vacanctCnt=0,this.applyFeeText="Application Fee:&nbsp&nbsp&nbsp;",this.currency="BDT",this.cntApplicants=0,this.isJobReady=!1,this.nominatedForJobReadyProgramme=!1}ngOnInit(){this.loadingRes=!0,this.route.paramMap.subscribe(t=>{this.jobId=+t.get("id")}),localStorage.getItem("type-code")==p.N.employer_type_code?this.userType="employer":localStorage.getItem("type-code")==p.N.admin_type_code?this.userType="admin":localStorage.getItem("type-code")==p.N.jobseeker_type_code&&(this.userType="jobseeker"),this.isLogin=!!localStorage.getItem("auth-token"),this.isLogin?(this.userId=+localStorage.getItem("user-id"),this.jobDetails.getJobDetailsbyIdAndUserId(this.jobId,this.userId).subscribe(t=>{(this.userType="jobseeker")&&this.setJobReadyProgramJobseeker(t?.data),this.cntApplicants=t?.data?.job_applications_count,this.jobReadyCourses=t?.data?.job_ready_courses,this.isPublished=1===t?.data?.published,1===t?.data?.is_favorite?(this.isFavourite=!0,this.favouriteBtn="Remove From Favourite"):(this.isFavourite=!1,this.favouriteBtn="Add To Favourite"),this.empId=t?.data?.employer_user_id,this.details=t?.data,this.jobName=this.details?.title,null!==this.details?.company_site_link&&(this.applybtn="Apply On Company Site",this.isLinkAvailable=!0),this.courses=this.details?.job_apply_conditions,this.loadingRes=!1,1===t?.data?.status&&(this.applybtn="Applied"),this.jobDetails.getJobDetailsbyID(this.jobId).subscribe(n=>{this.details=n?.data,this.setPetData(this.details?.job_apply_conditions)})},t=>{"Error in retrieving job"===t&&(this.isErrorOccured=!0)}),this.jobDetails.hasJobReadyProgramme(this.jobId).subscribe(t=>{t.status&&1==t.status&&(this.isJobReady=!(!t.data||1!=t.data))})):this.jobDetails.getJobDetailsbyID(this.jobId).subscribe(t=>{this.details=t?.data,null!==this.details?.company_site_link&&(this.applybtn="Apply On Company Site",this.isLinkAvailable=!0),this.setPetData(this.details?.job_apply_conditions),this.loadingRes=!1},t=>{"Error in retrieving job"===t&&(this.isErrorOccured=!0)}),localStorage.getItem("type-code")==p.N.jobseeker_type_code&&this.petApi.getPETCompletionStatus(this.jobId).subscribe(t=>{this.courses=t?.data;for(let n of this.courses)n.condition_type&&"PET"==n.condition_type?(this.courseStatusArr.push(n.pet_status?n.pet_status:"*"),(!n.pet_status||"null"==n.pet_status)&&(this.isStatusPending=!0)):n.condition_type&&"application_fee"==n.condition_type&&(n.payment_status&&"1"==n.payment_status?this.isPaymentComplete=!0:(this.isStatusPending=!0,this.isPaymentComplete=!1))}),this.eventService.event$.subscribe(t=>{"add"===t.action&&"job-ready-programme"===t.source&&(this.isJobReady=!0),"remove"===t.action&&"job-ready-programme"===t.source?this.isJobReady=!1:"remove"===t.action?"fee"===t.source&&(this.applyFee=0):("add"===t.action||"edit"===t.action)&&"fee"===t.source&&(this.applyFee=t?.obj?.condition_value,this.currency=t?.obj?.condition_description,this.applyFeeId=t?.obj?.id)})}setPetData(t){this.courses=[];for(let n of t)n.condition_type&&"PET"==n.condition_type&&this.courses.push(n),n.condition_type&&"application_fee"==n.condition_type&&(this.applyFee=n?.condition_value,this.currency=n?.condition_description,this.applyFeeId=n?.id)}isVisiblePET(){return 0!=this.courses.length}deleteApplyFee(){localStorage.setItem("apply-fee-id",this.applyFeeId),this.dialog.open(ae)}openJobReadyConfirmModal(){localStorage.setItem("job-id",this.jobId),localStorage.setItem("job-title",this.details?.title),this.dialog.open(ve)}isJobseekerOrLoggedOut(){if(!localStorage.getItem("type-code")||null==localStorage.getItem("type-code")||localStorage.getItem("type-code")==p.N.jobseeker_type_code)return!0}isItJobSeeker(){return localStorage.getItem("type-code")===p.N.jobseeker_type_code}isItEmployer(){return localStorage.getItem("type-code")===p.N.employer_type_code}isAllowedToCRUD(){return localStorage.getItem("type-code")==p.N.admin_type_code||localStorage.getItem("type-code")==p.N.employer_type_code&&this.empId==localStorage.getItem("user-id")}applyNow(){this.isLinkAvailable?window.open(this.details?.company_site_link,"_blank"):this.isLogin?(this.loading=!0,this.jobDetails.applyJob(this.userId,this.jobId).pipe((0,J.K)(t=>(console.log(t),(0,A._)(t)))).subscribe(t=>{this.applybtn="Applied",this.loading=!1})):this.dialog.open(ne,{data:{jobId:this.jobId}}).afterClosed().subscribe(n=>{n&&(this.applybtn=n)})}goTo(t){this._router.navigate([t])}goToJobEditPage(){localStorage.setItem("employer-id",this.empId),this._router.navigate(["employer","jobs",this.jobId])}viewApplicants(){this._router.navigate(["employer","applicants",this.jobId])}goToJobReady(){this._router.navigate(["jobs",this.jobId,"job-ready-programme"])}toggleJobStatus(){let t;t=1==this.isPublished?1:0,this.jobDetails.updateJobStatus(this.jobId,t).subscribe(n=>{})}setFavouriteStatus(){this.isFavourite?this.jobDetails.deleteFavouriteJob(this.jobId).subscribe(t=>{t.status&&1==t.status&&(this.isFavourite=!1,this.favouriteBtn="Add To Favourite")}):this.jobDetails.addFavouriteJob(this.jobId).subscribe(t=>{t.status&&1==t.status&&(this.isFavourite=!0,this.favouriteBtn="Remove From Favourite")})}addApplyFee(){localStorage.setItem("job-id",this.jobId),this.dialog.open(T)}updateApplyFee(){localStorage.setItem("job-id",this.jobId),localStorage.setItem("fee",this.applyFee),localStorage.setItem("currency",this.currency),localStorage.setItem("apply-fee-id",this.applyFeeId),this.dialog.open(ge)}makePayment(){localStorage.setItem("job-id",this.jobId),window.location.href=`${p.N.base_URL}/payment/${this.jobId}/${this.userId}/${this.applyFee}/application_fee`}addPET(){this.cntApplicants&&this.cntApplicants>0?this.dialog.open(Ie,{data:this.jobId}):this._router.navigate([`jobs/${encodeURIComponent(this.jobId)}/pet/create`],{queryParams:{unlock:"0"}})}removeJobReadyProgramme(){localStorage.setItem("job-id",this.jobId),this.dialog.open(pe)}setJobReadyProgramJobseeker(t){let n=!1,i=!1;t.own_job_application&&t.own_job_application.shortlisted&&2==t.own_job_application.shortlisted&&(n=!0),t.job_ready_programs&&t.job_ready_programs.published&&1==t.job_ready_programs.published&&(i=!0),this.nominatedForJobReadyProgramme=!(!n||!i)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(b.e),e.Y36(Je),e.Y36(x.uw),e.Y36(u.F0),e.Y36(y.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-jobDetails"]],decls:3,vars:2,consts:[[1,"min-h-screen"],["class","flex justify-center items-center min-h-screen",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"font-semibold","text-2xl","text-red-600"],["class","min-h-screen flex justify-center items-center",4,"ngIf"],["class","main-container my-6 md:flex gap-x-1",4,"ngIf"],[1,"min-h-screen","flex","justify-center","items-center"],[1,"main-container","my-6","md:flex","gap-x-1"],[1,"left-side-contect"],["class","uppercase text-sm text-pyramid-blue",4,"ngIf"],[1,"pt-2","pb-1","font-bold","infxs:text-3xl","md:text-4xl"],[1,"flex"],["class","ml-3",4,"ngIf"],[1,"md:flex","rounded","bg-[#fff]","px-4","pt-8","pb-6","shadow-md","mt-8","flex","justify-between","about-us"],[1,"text-md","mb-1","text-pyramid-grey"],[1,"text-base","mb-3"],[1,"size_industry"],["width","20px","height","20px","viewBox","0 0 20 20",1,"inline"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["transform","translate(-250.000000, -377.000000)","fill-rule","nonzero"],["transform","translate(228.000000, 232.000000)"],["transform","translate(20.000000, 143.000000)"],["transform","translate(2.000000, 2.000000)"],["d","M14.1298213,7.81811542 C14.9860301,7.329114 15.6416275,6.54476184 15.9779398,5.60709493 C16.3142521,4.66942802 16.308984,3.64043177 15.9631703,2.70633488 C15.6173565,1.7722571 14.95381,0.994849024 14.0926623,0.51485628 C13.2314675,0.0348635361 12.2296331,-0.115989961 11.2684854,0.0896037849 C10.3073377,0.29520231 9.45037629,0.843656208 8.8528222,1.63567888 C8.25522107,2.42770634 7.95649106,3.41093756 8.01067733,4.40743566 C8.06486359,5.40388597 8.46839135,6.34771797 9.14821261,7.06802968 C9.82803387,7.7882936 10.7392286,8.23753259 11.7168391,8.33426234 L12.5258702,8.33426234 C13.4159454,8.33550492 14.2970837,8.51491377 15.1189558,8.86216595 C15.9408278,9.20941813 16.6873471,9.71772727 17.3158984,10.358084 C17.9444026,10.9984885 18.4426152,11.7583715 18.7821261,12.5943861 C19.1215898,13.4304008 19.2956726,14.3262024 19.2944497,15.2305588 C19.2944497,15.2445138 19.2889934,15.2578954 19.2793039,15.2677404 C19.2696143,15.2775855 19.256444,15.2831293 19.2427093,15.2831293 L5,15.2831293 L5,16 L19.2427093,16 C19.443556,16 19.6361712,15.9189458 19.778175,15.7746636 C19.9202258,15.6303337 20,15.434628 20,15.2305588 C19.9972248,13.5008931 19.414111,11.8238457 18.3468956,10.4762243 C17.2796802,9.12865069 15.7921449,8.19103157 14.1298213,7.81811542 L14.1298213,7.81811542 Z M8.71119473,4.17163298 C8.71119473,3.48635236 8.91119473,2.816451 9.28588899,2.24665347 C9.66063029,1.67686072 10.1932267,1.2327593 10.8163217,0.970508873 C11.4394638,0.708263223 12.1251176,0.639644357 12.7866416,0.773335969 C13.4481656,0.90703236 14.0557855,1.23702707 14.5326905,1.72159823 C15.0096425,2.20616939 15.3344309,2.8235528 15.4659925,3.49567168 C15.5975541,4.16780967 15.5300564,4.86446465 15.2719191,5.49760487 C15.0138288,6.13069731 14.5767168,6.67183913 14.0159454,7.05259307 C13.455127,7.43329921 12.7958137,7.63650817 12.1213547,7.63650817 C11.2173095,7.63526559 10.3506585,7.2698049 9.71138288,6.62027222 C9.07210724,5.97073955 8.71241769,5.09018334 8.71119473,4.17163298 L8.71119473,4.17163298 Z","fill","#666666"],["d","M7.57,12 L8.43,12 C10.4377,12 12.36315,12.6978562 13.7828,13.94005 C15.20245,15.1822437 16,16.8670125 16,18.62375 C16,18.7235437 15.9547,18.819225 15.87405,18.8897938 C15.7934,18.9603625 15.68405,19 15.57,19 L0.43,19 C0.315955,19 0.206585,18.9603625 0.125945,18.8897938 C0.045305,18.819225 0,18.7235437 0,18.62375 C0,16.8670125 0.79755,15.1822437 2.2172,13.94005 C3.63685,12.6978562 5.5623,12 7.57,12 L7.57,12 Z","fill","#D8D8D8"],["d","M8,12 C10.20915,12 12,10.20915 12,8 C12,5.79085 10.20915,4 8,4 C5.79085,4 4,5.79085 4,8 C4,10.20915 5.79085,12 8,12 Z","fill","#D8D8D8"],["d","M10.039403,11.8250894 C10.8467104,11.3738458 11.4814567,10.667566 11.8442507,9.81698371 C12.206997,8.96640145 12.2773015,8.01950614 12.0440836,7.12465903 C11.8108657,6.22985967 11.2873075,5.43767645 10.5555104,4.8722133 C9.82366567,4.30675015 8.92489552,4 8,4 C7.07510448,4 6.17633433,4.30675015 5.44448955,4.8722133 C4.71269254,5.43767645 4.18913433,6.22985967 3.95591642,7.12465903 C3.72269851,8.01950614 3.79300299,8.96640145 4.15574925,9.81698371 C4.51854328,10.667566 5.15328955,11.3738458 5.96059701,11.8250894 C4.27266866,12.1976877 2.76220657,13.1345076 1.67855284,14.4809326 C0.594903881,15.8274053 0.00281313433,17.5030232 0,19.2312146 C0,19.4351099 0.0810125373,19.6306488 0.225222687,19.774808 C0.296625672,19.8461952 0.381397015,19.9028274 0.474688955,19.9414577 C0.567980896,19.9801357 0.667973731,20 0.768955224,20 L15.2310448,20 C15.4349851,20 15.6305672,19.9190149 15.7747582,19.774808 C15.918997,19.6306488 16,19.4351099 16,19.2312146 C15.9971821,17.5030232 15.4050866,15.8274053 14.3214328,14.4809326 C13.2377791,13.1345076 11.7273313,12.1976877 10.039403,11.8250894 L10.039403,11.8250894 Z M4.53731343,8.18171508 C4.53731343,7.49701857 4.74039403,6.82769776 5.1208597,6.25836681 C5.50137313,5.68908361 6.04217313,5.24533685 6.67486567,4.98332906 C7.30760597,4.72127351 8.0038209,4.65275133 8.67553433,4.78630989 C9.34724776,4.91986845 9.96422687,5.24958666 10.4484776,5.73377821 C10.9327761,6.21792201 11.2625672,6.83476486 11.3961552,7.50632995 C11.5297433,8.17789503 11.461206,8.8739562 11.1990925,9.50655676 C10.9370269,10.1391096 10.4931821,10.6797901 9.92377313,11.0602195 C9.35431642,11.4406012 8.68484776,11.6436369 8,11.6436369 C7.08202985,11.6423954 6.20202985,11.2772462 5.55290746,10.6282672 C4.90378507,9.97928816 4.53855522,9.0994825 4.53731343,8.18171508 L4.53731343,8.18171508 Z M15.2310448,19.2837403 L0.768955224,19.2837403 C0.755023284,19.2837403 0.741659701,19.2782012 0.731806567,19.2683646 C0.721953433,19.2584802 0.71641791,19.2451578 0.71641791,19.2312146 C0.718944478,17.4096229 1.44385433,15.6633341 2.73221731,14.3752604 C4.02058507,13.0871867 5.7672597,12.3624274 7.58925373,12.3598966 L8.41074627,12.3598966 C10.2327403,12.3624274 11.9794149,13.0871867 13.2677731,14.3752604 C14.5561313,15.6633341 15.2810507,17.4096229 15.2835821,19.2312146 C15.2835821,19.2451578 15.2780418,19.2584802 15.268203,19.2683646 C15.2583642,19.2782012 15.244991,19.2837403 15.2310448,19.2837403 Z","fill","#666666"],[1,"ml-2","pt-1"],["class","flex mt-1",4,"ngIf"],[1,"flex","items-center","infxs:mx-10","md:mx-12","xl:mx-22"],[1,"h-16","w-40","object-contain",3,"src"],["class","mt-10",4,"ngIf"],["class","mt-10 flex",4,"ngIf"],["class","mt-4 flex",4,"ngIf"],["class","mt-4 mb-6 flex",4,"ngIf"],[1,"right-side-content","mt-4","sm:mt-2"],[1,"sticky","top-6","w-full","text-center","min-w-full"],["class","w-full rounded bg-[#fff] text-center px-4 py-6 shadow-md",4,"ngIf"],["class","w-full rounded bg-[#fff] text-center px-4 py-6 my-2 shadow-md",4,"ngIf"],["class","w-full px-4 py-3 rounded bg-[#fff] text-start pt-6 mt-2 shadow-md",4,"ngIf"],["class","w-full rounded bg-[#fff] text-center py-6 my-2 shadow-md",4,"ngIf"],["class","w-full rounded bg-[#fff] flex px-4 py-3 my-2 shadow-md",3,"ngStyle",4,"ngIf"],["class","w-full rounded bg-[#fff] shadow-md my-2 py-3 text-center",4,"ngIf"],["class","w-full px-4 py-2 rounded bg-[#fff] text-start mt-2 shadow-md",4,"ngIf"],["class","w-full rounded bg-[#fff] text-start px-4 mt-2 shadow-md",4,"ngIf"],[1,"uppercase","text-sm","text-pyramid-blue"],[1,"ml-3"],[1,"flex","mt-1"],["width","20px","height","20px","viewBox","0 0 20 20"],["transform","translate(-250.000000, -406.000000)","fill-rule","nonzero"],["transform","translate(0.000000, 29.000000)"],["d","M17.3555556,4.16666667 L3.75555556,4.16666667 C3.30468581,4.16666667 2.87228656,4.36419792 2.55347281,4.71585417 C2.23466331,5.06746354 2.05555556,5.54436979 2.05555556,6.04166667 L2.05555556,17.2916667 C2.05555556,17.7889635 2.23466331,18.2658698 2.55347281,18.6174792 C2.87228656,18.9691354 3.30468581,19.1666667 3.75555556,19.1666667 L17.3555556,19.1666667 C17.8064381,19.1666667 18.2388331,18.9691354 18.5576256,18.6174792 C18.8764606,18.2658698 19.0555556,17.7889635 19.0555556,17.2916667 L19.0555556,6.04166667 C19.0555556,5.54436979 18.8764606,5.06746354 18.5576256,4.71585417 C18.2388331,4.36419792 17.8064381,4.16666667 17.3555556,4.16666667 L17.3555556,4.16666667 Z M13.1055556,9.66510417 C13.1055556,10.0256198 12.9757181,10.3714167 12.7445606,10.6263229 C12.5134456,10.881276 12.1999231,11.0244792 11.8730556,11.0244792 L9.23805556,11.0244792 C8.91118806,11.0244792 8.59766556,10.881276 8.36655056,10.6263229 C8.13539306,10.3714167 8.00555556,10.0256198 8.00555556,9.66510417 L8.00555556,8.63385417 C8.00555556,8.27333854 8.13539306,7.92754167 8.36655056,7.67263542 C8.59766556,7.41768229 8.91118806,7.27447917 9.23805556,7.27447917 L11.8730556,7.27447917 C12.1999231,7.27447917 12.5134456,7.41768229 12.7445606,7.67263542 C12.9757181,7.92754167 13.1055556,8.27333854 13.1055556,8.63385417 L13.1055556,9.66510417 Z","fill","#D8D8D8"],["d","M16.9397517,4.46987952 L12.9277075,4.46987952 L12.9277075,2.62650602 C12.9254521,2.19583325 12.7533462,1.78344675 12.4487778,1.47890843 C12.1442528,1.17437446 11.7318581,1.00227711 11.3012031,1 L8.69879602,1 C8.26814102,1.00227711 7.85574625,1.17437446 7.55122125,1.47890843 C7.24665288,1.78344675 7.0745904,2.19583325 7.07229161,2.62650602 L7.07229161,4.46554217 L3.06024741,4.46554217 C2.78932816,4.46554217 2.52106771,4.51897831 2.27082458,4.62277108 C2.02058146,4.72660723 1.79326988,4.87871807 1.60190621,5.07051566 C1.41053821,5.26226988 1.25886993,5.48989398 1.15558906,5.7403759 C1.0523082,5.99081446 0.999440304,6.25920964 1.00000396,6.53012048 L1.00000396,16.939759 C1.00000396,17.4861783 1.21707093,18.0102169 1.60344163,18.396588 C1.98980799,18.782959 2.51383735,19 3.06024741,19 L16.9397517,19 C17.4861704,19 18.0102084,18.782959 18.3965791,18.396588 C18.7829498,18.0102169 18.9999906,17.4861783 18.9999906,16.939759 L18.9999906,6.53012048 C18.9999906,5.9837012 18.7829498,5.45966265 18.3965791,5.07329157 C18.0102084,4.68692048 17.4861704,4.46987952 16.9397517,4.46987952 L16.9397517,4.46987952 Z M7.72289337,2.62650602 C7.72402108,2.36803036 7.82720652,2.12046747 8.00998224,1.93770024 C8.19275797,1.75492867 8.44033362,1.65174313 8.69879602,1.65060241 L11.3012031,1.65060241 C11.5596655,1.65174313 11.8072411,1.75492867 11.9900168,1.93770024 C12.1727926,2.12046747 12.275978,2.36803036 12.2771057,2.62650602 L12.2771057,4.46554217 L7.72289337,4.46554217 L7.72289337,2.62650602 Z M3.06024741,5.12048193 L16.9397517,5.12048193 C17.3132405,5.12160964 17.6711582,5.27051084 17.9352591,5.53461205 C18.1993601,5.79871325 18.3482611,6.15663133 18.3493888,6.53012048 L18.3493888,9.21060241 L12.9277075,9.21060241 L12.9277075,8.9286747 C12.9265798,8.50916627 12.7594185,8.10713735 12.4627441,7.81050602 C12.166113,7.51383133 11.7640845,7.34666988 11.3445765,7.34554217 L8.65542256,7.34554217 C8.23591455,7.34666988 7.83388603,7.51383133 7.537255,7.81050602 C7.2405806,8.10713735 7.07341932,8.50916627 7.07229161,8.9286747 L7.07229161,9.21060241 L1.65061026,9.21060241 L1.65061026,6.53012048 C1.65175532,6.15663133 1.80063902,5.79871325 2.06474864,5.53461205 C2.32885826,5.27051084 2.68674128,5.12160964 3.06024741,5.12048193 L3.06024741,5.12048193 Z M12.2771057,8.9286747 L12.2771057,9.88289157 C12.275978,10.1298602 12.1773468,10.3663759 12.0027253,10.541041 C11.8280604,10.7156627 11.5915449,10.814294 11.3445765,10.8154217 L8.65542256,10.8154217 C8.40845414,10.814294 8.17193871,10.7156627 7.99727382,10.541041 C7.82265231,10.3663759 7.72402108,10.1298602 7.72289337,9.88289157 L7.72289337,8.9286747 C7.72289337,8.68135904 7.82113424,8.4441494 7.99601599,8.26926747 C8.17089775,8.09438554 8.40810715,7.99614458 8.65542256,7.99614458 L11.3445765,7.99614458 C11.5918919,7.99614458 11.8291013,8.09438554 12.0039831,8.26926747 C12.1788648,8.4441494 12.2771057,8.68135904 12.2771057,8.9286747 L12.2771057,8.9286747 Z M16.9397517,18.3493976 L3.06024741,18.3493976 C2.68674128,18.3482699 2.32885826,18.1993687 2.06474864,17.9352675 C1.80063902,17.6711663 1.65175532,17.3132482 1.65061026,16.939759 L1.65061026,9.86120482 L7.07229161,9.86120482 L7.07229161,9.88289157 C7.07341932,10.3024 7.2405806,10.7044289 7.537255,11.0010602 C7.83388603,11.2977349 8.23591455,11.4648964 8.65542256,11.4660241 L11.3445765,11.4660241 C11.7640845,11.4648964 12.166113,11.2977349 12.4627441,11.0010602 C12.7594185,10.7044289 12.9265798,10.3024 12.9277075,9.88289157 L12.9277075,9.86120482 L18.3493888,9.86120482 L18.3493888,16.939759 C18.3482611,17.3132482 18.1993601,17.6711663 17.9352591,17.9352675 C17.6711582,18.1993687 17.3132405,18.3482699 16.9397517,18.3493976 L16.9397517,18.3493976 Z","fill","#666666"],[1,"ml-2"],[1,"mt-10"],[1,"font-bold","text-xl"],[3,"innerHTML"],[1,"font-bold","text-xl","pb-2"],[1,"mt-10","flex"],[1,"mt-1","ml-1",3,"innerHTML"],[1,"mt-4","flex"],[1,"mt-1","ml-1"],[1,"mt-4","mb-6","flex"],[1,"w-full","rounded","bg-[#fff]","text-center","px-4","py-6","shadow-md"],["class","flex justify-center items-center",4,"ngIf"],[1,"mb-4"],[3,"ngClass","disabled","click",4,"ngIf"],["class","font-bold",4,"ngIf"],[1,"flex","justify-center","items-center"],["class","cursor-pointer uppercase px-4 min-w-48 py-2 bg-[#338f3a] hover:bg-[#256a2a] text-white rounded text-sm",3,"click",4,"ngIf"],[3,"ngClass","disabled","click"],[1,"font-bold"],[1,"cursor-pointer","uppercase","px-4","min-w-48","py-2","bg-[#338f3a]","hover:bg-[#256a2a]","text-white","rounded","text-sm",3,"click"],[1,"w-full","rounded","bg-[#fff]","text-center","px-4","py-6","my-2","shadow-md"],[1,"px-auto","font-[700]","text-base","rounded","text-red-600"],[1,"w-full","px-4","py-3","rounded","bg-[#fff]","text-start","pt-6","mt-2","shadow-md"],[3,"courses","jobID","editAccess","courseStatus",4,"ngIf"],["class","flex justify-center items-center mb-6 mt-3",4,"ngIf"],[3,"courses","jobID","editAccess","courseStatus"],[1,"flex","justify-center","items-center","mb-6","mt-3"],[1,"bg-[#338f3a]","hover:bg-[#256a2a]","text-white","rounded","px-4","py-2","text-sm","mt-1",3,"click"],["class","ml-2",4,"ngIf"],[1,"fas","fa-lock"],[1,"w-full","rounded","bg-[#fff]","text-center","py-6","my-2","shadow-md"],["class","px-auto font-[700] text-base rounded",3,"innerHTML",4,"ngIf"],["class","bg-[#338f3a] hover:bg-[#256a2a] text-white rounded px-4 py-2 mt-3 text-sm",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"px-auto","font-[700]","text-base","rounded",3,"innerHTML"],[1,"bg-[#338f3a]","hover:bg-[#256a2a]","text-white","rounded","px-4","py-2","mt-3","text-sm",3,"click"],[1,"text-center"],[1,"px-auto","font-[700]","text-base","rounded","text-green-600","mt-2"],[1,"w-full","rounded","bg-[#fff]","flex","px-4","py-3","my-2","shadow-md",3,"ngStyle"],["class","bg-[#338f3a] hover:bg-[#256a2a] text-white rounded px-4 py-2 mx-auto text-sm",3,"click",4,"ngIf"],["class","px-auto py-2 font-[700] text-base rounded",3,"innerHTML",4,"ngIf"],["class","flex actions",4,"ngIf"],[1,"bg-[#338f3a]","hover:bg-[#256a2a]","text-white","rounded","px-4","py-2","mx-auto","text-sm",3,"click"],[1,"px-auto","py-2","font-[700]","text-base","rounded",3,"innerHTML"],[1,"flex","actions"],[1,"cursor-pointer",3,"click"],[1,"w-full","rounded","bg-[#fff]","shadow-md","my-2","py-3","text-center"],[1,"bg-[#338f3a]","hover:bg-[#256a2a]","text-white","rounded","px-4","py-2","text-sm",3,"click"],[1,"w-full","px-4","py-2","rounded","bg-[#fff]","text-start","mt-2","shadow-md"],["class","text-center py-3",4,"ngIf"],[1,"text-center","py-3"],[1,"font-[700]","text-base"],["class","flex justify-end",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-end"],[1,"mb-2"],[3,"courses","jobID","editAccess"],[1,"bg-[#338f3a]","hover:bg-[#256a2a]","text-white","rounded","px-4","py-2","mb-2","text-sm","mx-auto",3,"click"],[1,"w-full","rounded","bg-[#fff]","text-start","px-4","mt-2","shadow-md"],[1,"flex","justify-center","items-center","h-14"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"slider"],[1,"ml-4","font-[500]","text-lg"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ke,3,0,"div",1),e.YNc(2,$t,3,2,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.isErrorOccured),e.xp6(1),e.Q6J("ngIf",!n.isErrorOccured))},dependencies:[g.Hw,a.mk,a.O5,a.PC,s.Wl,s.JJ,s.On,d.R,Ye,Be,a.OU,a.uU],styles:['ul{list-style:inherit!important;margin-left:24px!important}  ol{list-style-type:style!important;margin-left:24px!important}.size_industry[_ngcontent-%COMP%]{list-style:none!important;margin-left:0!important}.about-us[_ngcontent-%COMP%]{border-top:5px solid #338f3a}.main-container[_ngcontent-%COMP%]{width:86%!important;margin-left:7%!important;margin-right:7%!important}.btnLoader[_ngcontent-%COMP%]{padding-top:19.5px!important;padding-bottom:19.5px!important}toggle-button[_ngcontent-%COMP%]{margin:0 auto!important}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#338f3a}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider[_ngcontent-%COMP%]:before{box-shadow:0 2px 4px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003}.slider[_ngcontent-%COMP%]:active:before{width:40px}@media only screen and (min-width: 768px){.main-container[_ngcontent-%COMP%]{display:flex!important;column-gap:4%!important}.left-side-contect[_ngcontent-%COMP%]{width:70%!important}.right-side-contect[_ngcontent-%COMP%]{width:30%!important}}@media only screen and (min-width: 1024px){.main-container[_ngcontent-%COMP%]{display:flex!important;column-gap:5%!important}.left-side-contect[_ngcontent-%COMP%]{width:82%!important}.right-side-contect[_ngcontent-%COMP%]{width:18%!important}.right-side-content[_ngcontent-%COMP%]{min-width:22rem!important}}']}),o})();var R=c(8951),N=c(8258);function Kt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addCourse(i.course))}),e._uU(1," ADD COURSE "),e.qZA()}}function Gt(o,r){1&o&&(e.TgZ(0,"h1",9),e._uU(1,"Added"),e.qZA())}let q=(()=>{class o{constructor(t,n){this._getToken=t,this._router=n,this.newItemEvent=new e.vpe,this.returnURL=window.location.href}addCourse(t){t.alreadyAdded=!0,this.newItemEvent.emit(t)}gotoCourse(t){const n=p.N.moodle_base_URL+"/course/view.php?id="+t;this._getToken.getToken(localStorage.getItem("user-email"),localStorage.getItem("moodle-token"),n,this.returnURL).subscribe(i=>{window.open(`${p.N.moodle_base_URL}/auth/pyramid/callback.php?token=${i?.data?.jwtToken}`,"_blank")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k.W),e.Y36(u.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-course-item"]],inputs:{course:"course"},outputs:{newItemEvent:"newItemEvent"},decls:11,vars:5,consts:[["alt","Course Image",1,"course-image","cursor-pointer","h-50",3,"src","click"],[1,"course-details","flex","items-center","cursor-pointer",3,"click"],[1,"px-2.5"],[1,"text-lg","font-[700]","mt-3"],[1,"h-36","mt-3",3,"innerHTML"],[1,"text-center","mb-3"],["type","submit","class","bg-green-600 text-white px-6 py-1 rounded",3,"click",4,"ngIf"],["class","font-bold uppercase",4,"ngIf"],["type","submit",1,"bg-green-600","text-white","px-6","py-1","rounded",3,"click"],[1,"font-bold","uppercase"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"img",0),e.NdJ("click",function(){return n.gotoCourse(n.course.id)}),e.qZA(),e.TgZ(2,"div",1),e.NdJ("click",function(){return n.gotoCourse(n.course.id)}),e.TgZ(3,"div")(4,"div",2)(5,"h3",3),e._uU(6),e.qZA(),e._UZ(7,"p",4),e.qZA()()(),e.TgZ(8,"div",5),e.YNc(9,Kt,2,0,"button",6),e.YNc(10,Gt,2,0,"h1",7),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("src",n.course.courseimage,e.LSH),e.xp6(5),e.Oqu(n.course.fullname),e.xp6(1),e.Q6J("innerHTML",n.course.summary,e.oJD),e.xp6(2),e.Q6J("ngIf",0==n.course.alreadyAdded),e.xp6(1),e.Q6J("ngIf",1==n.course.alreadyAdded))},dependencies:[a.O5],styles:[".course-image[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:10px}"]}),o})();function zt(o,r){1&o&&(e.TgZ(0,"div",2),e._UZ(1,"div",3),e.qZA())}function Wt(o,r){1&o&&(e.TgZ(0,"div",16)(1,"h1",17),e._uU(2,"Available Courses"),e.qZA()())}function Vt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",21)(1,"app-course-item",22),e.NdJ("newItemEvent",function(i){e.CHM(t);const l=e.oxw(3);return e.KtG(l.savePET(i))}),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(1),e.Q6J("course",t)}}function Xt(o,r){if(1&o&&(e.TgZ(0,"div",18)(1,"div",19),e.YNc(2,Vt,2,1,"div",20),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.currentPageCourses)}}function eo(o,r){1&o&&(e.TgZ(0,"div",18)(1,"div",23)(2,"div")(3,"h1",24),e._uU(4,"No Course Found"),e.qZA()()()())}function to(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.goPrev())}),e.O4$(),e.TgZ(2,"svg",27),e._UZ(3,"path",28),e.qZA(),e._uU(4," Prev "),e.qZA(),e.kcU(),e.TgZ(5,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.goNext())}),e._uU(6," Next "),e.O4$(),e.TgZ(7,"svg",30),e._UZ(8,"path",31),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.ekj("cursor-not-allowed",t.prevBtnDisabled),e.Q6J("disabled",t.prevBtnDisabled),e.xp6(4),e.ekj("cursor-not-allowed",t.nextBtnDisabled),e.Q6J("disabled",t.nextBtnDisabled)}}function oo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div")(4,"h1",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goToJobDetails())}),e._uU(5),e.qZA()(),e.TgZ(6,"div",8)(7,"input",9),e.NdJ("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchCourses())})("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.searchText=i)}),e.qZA(),e.TgZ(8,"mat-icon",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchCourses())}),e.qZA()()()(),e.YNc(9,Wt,3,0,"div",11),e.TgZ(10,"div",12)(11,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createCourse())}),e._uU(12,"Create Course"),e.qZA(),e._UZ(13,"br"),e.qZA(),e.YNc(14,Xt,3,1,"div",14),e.YNc(15,eo,5,0,"div",14),e.YNc(16,to,9,6,"div",15),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.jobName),e.xp6(2),e.Q6J("ngModel",t.searchText),e.xp6(2),e.Q6J("ngIf",t.courses.length>0),e.xp6(5),e.Q6J("ngIf",t.currentPageCourses.length>0),e.xp6(1),e.Q6J("ngIf",0===t.currentPageCourses.length),e.xp6(1),e.Q6J("ngIf",t.currentPageCourses.length>0)}}let no=(()=>{class o{constructor(t,n,i,l,C,I,w,j){this._router=t,this._route=n,this.petApi=i,this._getToken=l,this.route=C,this.dialog=I,this.jobDetailsApi=w,this.document=j,this.selectedCourse="",this.searchText="",this.loading=!1,this.per_page=6,this.prevBtnDisabled=!1,this.nextBtnDisabled=!1,this.currentPage=1,this.courses=[],this.addedCourses=[],this.returnURL=window.location.href}ngOnInit(){this.jobId=this._route.snapshot.params.id,this.loading=!0,this.jobName=localStorage.getItem("job-name"),this.document.body.scrollTop=0,this.document.documentElement.scrollTop=0,this.route.queryParams.subscribe(n=>{this.unlockParam=n.unlock}),this.petApi.getCourses("").subscribe(n=>{this.loading=!1,this.courses=n?.courses,this.jobDetailsApi.getJobDetailsbyIdAndUserId(this.jobId,+localStorage.getItem("user-id")).subscribe(i=>{this.jobDetails=i?.data,this.jobName=this.jobDetails?.title,this.addedCourses=this.jobDetails?.job_apply_conditions,this.setPreAddedCourseStatus()}),this.getCurrentPageCourses()})}setPreAddedCourseStatus(){for(let t of this.courses)t.alreadyAdded=!1;for(let t of this.addedCourses)for(let n of this.courses)t?.condition_value==n.id&&(n.alreadyAdded=!0)}savePET(t){this.condition_value=t.id,this.condition_description=t.fullname,this.petApi.addPET(this.jobId,this.condition_value,this.condition_description).pipe((0,J.K)(n=>(this.dialog.open(R.o,{data:{errorMessage:n?.error?.message}}),(0,A._)("An error occurred while creating the PET.")))).subscribe(n=>{n.status&&(localStorage.setItem("job-id",this.jobId),1==this.unlockParam?this.petApi.unlockJob(this.jobId).subscribe(i=>{this.dialog.open(N.p)}):this.dialog.open(N.p))})}goToJobDetails(){this._router.navigate(["jobs",this.jobId])}createCourse(){const n=p.N.moodle_base_URL+"/course/edit.php?category="+p.N.pet_category_id;this._getToken.getToken(localStorage.getItem("user-email"),localStorage.getItem("moodle-token"),n,this.returnURL).subscribe(i=>{window.open(`${p.N.moodle_base_URL}/auth/pyramid/callback.php?token=${i?.data?.jwtToken}`,"_blank")})}searchCourses(){this.petApi.getCourses(this.searchText).subscribe(t=>{this.courses=t?.courses,this.setPreAddedCourseStatus(),this.getCurrentPageCourses()})}getCurrentPageCourses(){let t=(this.currentPage-1)*this.per_page,n=t+this.per_page-1;this.currentPageCourses=[];for(let i=t;i<=n&&i<this.courses.length;i++)this.courses[i]?.summary.length>180&&(this.courses[i].summary=this.courses[i].summary.substring(0,180)+"..."),this.currentPageCourses.push(this.courses[i]);this.prevBtnDisabled=0==t,this.nextBtnDisabled=n+1>=this.courses.length}goPrev(){this.currentPage-1>0&&(this.currentPage--,this.getCurrentPageCourses())}goNext(){(this.currentPage+1-1)*this.per_page<this.courses.length&&(this.currentPage++,this.getCurrentPageCourses())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(P.$),e.Y36(k.W),e.Y36(u.gz),e.Y36(x.uw),e.Y36(b.e),e.Y36(a.K0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-pet"]],decls:2,vars:2,consts:[["class","h-screen flex justify-center items-center",4,"ngIf"],["class","min-h-screen parent-container  mx-auto pt-10",4,"ngIf"],[1,"h-screen","flex","justify-center","items-center"],[1,"loader"],[1,"min-h-screen","parent-container","mx-auto","pt-10"],[1,"sm:flex","sm:justify-center"],[1,"sm:w-2/3","lg:w-1/3","mb-2","mx-auto","py-auto","sm:mx-0","lg:mt-4"],[1,"text-center","font-bold","text-3xl","cursor-pointer","mb-4",3,"click"],[1,"relative"],["type","text","placeholder","Search Courses","name","searchText",1,"border","border-gray-700","rounded-md","py-2","h-10","pl-4","pr-10","w-full","sm:text-sm",3,"ngModel","keyup","ngModelChange"],["svgIcon","heroicons_solid:search",1,"absolute","right-2","top-1.5","text-green-300",3,"click"],["class","flex justify-center items-center mt-8 mb-1.5",4,"ngIf"],[1,"text-center"],["type","submit",1,"uppercase","px-1","w-48","py-2","mt-1","mb-10","bg-pyramid-black","text-white","my-4","justify-center","rounded",3,"click"],["class","grid-container flex flex-row  justify-center sm:mx-0 flex-wrap gap-5 w-full courseGrid mb-6 sm:mb-12",4,"ngIf"],["class","flex items-center justify-center mb-12",4,"ngIf"],[1,"flex","justify-center","items-center","mt-8","mb-1.5"],[1,"text-3xl","font-[700]"],[1,"grid-container","flex","flex-row","justify-center","sm:mx-0","flex-wrap","gap-5","w-full","courseGrid","mb-6","sm:mb-12"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"course","newItemEvent"],[1,"min-h-128"],[1,"text-red-600","text-2xl","sm:text-3xl","md:text-5xl","font-bold","my-auto","mt-1/4"],[1,"flex","items-center","justify-center","mb-12"],[1,"inline-flex","items-center","px-4","py-2","mr-3","text-sm","font-medium","text-gray-500","rounded","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"disabled","click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z","clip-rule","evenodd"],[1,"inline-flex","items-center","px-4","py-2","text-sm","font-medium","rounded","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"disabled","click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","ml-2"],["fill-rule","evenodd","d","M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule","evenodd"]],template:function(t,n){1&t&&(e.YNc(0,zt,2,0,"div",0),e.YNc(1,oo,17,6,"div",1)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[g.Hw,a.sg,a.O5,s.Fj,s.JJ,s.On,q],styles:[".parent-container[_ngcontent-%COMP%]{width:80%!important;margin-left:10%!important;margin-right:10%!important}.card-container[_ngcontent-%COMP%]{display:flex;column-gap:18px!important;row-gap:18px!important;flex-wrap:wrap;justify-content:center!important;min-height:442px!important}.card[_ngcontent-%COMP%]{width:300px;margin:10px;border:1px solid #c7c5c5;border-radius:5px}@media (min-width: 600px) and (max-width: 900px){.card[_ngcontent-%COMP%]{width:270px!important}}"]}),o})(),io=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-pet"]],decls:0,vars:0,template:function(t,n){},styles:[".input-box[_ngcontent-%COMP%]{border-color:#4c4646!important;border-top:hidden!important;border-left:hidden!important;border-right:hidden!important;border-bottom:2px solid!important}"]}),o})();function ro(o,r){1&o&&(e.TgZ(0,"div",2),e._UZ(1,"div",3),e.qZA())}function so(o,r){1&o&&(e.TgZ(0,"div",16)(1,"h1",17),e._uU(2,"Available Courses"),e.qZA()())}function ao(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",21)(1,"app-course-item",22),e.NdJ("newItemEvent",function(i){e.CHM(t);const l=e.oxw(3);return e.KtG(l.savePET(i))}),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(1),e.Q6J("course",t)}}function lo(o,r){if(1&o&&(e.TgZ(0,"div",18)(1,"div",19),e.YNc(2,ao,2,1,"div",20),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.currentPageCourses)}}function co(o,r){1&o&&(e.TgZ(0,"div",18)(1,"div",23)(2,"div")(3,"h1",24),e._uU(4,"No Course Found"),e.qZA()()()())}function po(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.goPrev())}),e.O4$(),e.TgZ(2,"svg",27),e._UZ(3,"path",28),e.qZA(),e._uU(4," Prev "),e.qZA(),e.kcU(),e.TgZ(5,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.goNext())}),e._uU(6," Next "),e.O4$(),e.TgZ(7,"svg",30),e._UZ(8,"path",31),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.ekj("cursor-not-allowed",t.prevBtnDisabled),e.Q6J("disabled",t.prevBtnDisabled),e.xp6(4),e.ekj("cursor-not-allowed",t.nextBtnDisabled),e.Q6J("disabled",t.nextBtnDisabled)}}function uo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div")(4,"h1",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goToJobDetails())}),e._uU(5),e.qZA()(),e.TgZ(6,"div",8)(7,"input",9),e.NdJ("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchCourses())})("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.searchText=i)}),e.qZA(),e.TgZ(8,"mat-icon",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchCourses())}),e.qZA()()()(),e.YNc(9,so,3,0,"div",11),e.TgZ(10,"div",12)(11,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createCourse())}),e._uU(12,"Create Course"),e.qZA(),e._UZ(13,"br"),e.qZA(),e.YNc(14,lo,3,1,"div",14),e.YNc(15,co,5,0,"div",14),e.YNc(16,po,9,6,"div",15),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.jobName),e.xp6(2),e.Q6J("ngModel",t.searchText),e.xp6(2),e.Q6J("ngIf",t.courses.length>0),e.xp6(5),e.Q6J("ngIf",t.currentPageCourses.length>0),e.xp6(1),e.Q6J("ngIf",0===t.currentPageCourses.length),e.xp6(1),e.Q6J("ngIf",t.currentPageCourses.length>0)}}const _o=[{path:"",component:Bt},{path:"pet/create",component:no},{path:"job-ready-programme",component:(()=>{class o{constructor(t,n,i,l,C,I,w,j){this._router=t,this._route=n,this.petApi=i,this._getToken=l,this.route=C,this.dialog=I,this.jobDetailsApi=w,this.document=j,this.selectedCourse="",this.searchText="",this.loading=!1,this.per_page=6,this.prevBtnDisabled=!1,this.nextBtnDisabled=!1,this.currentPage=1,this.courses=[],this.addedCourses=[],this.returnURL=window.location.href}ngOnInit(){this.jobId=this._route.snapshot.params.id,this.loading=!0,this.jobName=localStorage.getItem("job-name"),this.document.body.scrollTop=0,this.document.documentElement.scrollTop=0,this.petApi.getCourses("").subscribe(n=>{this.loading=!1,this.courses=n?.courses,this.jobDetailsApi.getJobDetailsbyIdAndUserId(this.jobId,+localStorage.getItem("user-id")).subscribe(i=>{this.jobDetails=i?.data,this.jobName=this.jobDetails?.title,this.addedCourses=i?.data?.job_ready_courses,this.setPreAddedCourseStatus()}),this.getCurrentPageCourses()})}setPreAddedCourseStatus(){for(let t of this.courses)t.alreadyAdded=!1;for(let t of this.addedCourses)for(let n of this.courses)t?.course_id==n.id&&(n.alreadyAdded=!0)}savePET(t){this.jobDetailsApi.addJobReadyCourse(this.jobId,t.id,t.fullname).subscribe(l=>{l.status&&1==l.status?(localStorage.setItem("job-id",this.jobId),this.dialog.open(N.p)):this.dialog.open(R.o)})}goToJobDetails(){this._router.navigate(["jobs",this.jobId])}createCourse(){const n=p.N.moodle_base_URL+"/course/edit.php?category="+p.N.pet_category_id;this._getToken.getToken(localStorage.getItem("user-email"),localStorage.getItem("moodle-token"),n,this.returnURL).subscribe(i=>{window.open(`${p.N.moodle_base_URL}/auth/pyramid/callback.php?token=${i?.data?.jwtToken}`,"_blank")})}searchCourses(){this.petApi.getCourses(this.searchText).subscribe(t=>{this.courses=t?.courses,this.setPreAddedCourseStatus(),this.getCurrentPageCourses()})}getCurrentPageCourses(){let t=(this.currentPage-1)*this.per_page,n=t+this.per_page-1;this.currentPageCourses=[];for(let i=t;i<=n&&i<this.courses.length;i++)this.courses[i]?.summary.length>180&&(this.courses[i].summary=this.courses[i].summary.substring(0,180)+"..."),this.currentPageCourses.push(this.courses[i]);this.prevBtnDisabled=0==t,this.nextBtnDisabled=n+1>=this.courses.length}goPrev(){this.currentPage-1>0&&(this.currentPage--,this.getCurrentPageCourses())}goNext(){(this.currentPage+1-1)*this.per_page<this.courses.length&&(this.currentPage++,this.getCurrentPageCourses())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(P.$),e.Y36(k.W),e.Y36(u.gz),e.Y36(x.uw),e.Y36(b.e),e.Y36(a.K0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-job-ready"]],decls:2,vars:2,consts:[["class","h-screen flex justify-center items-center",4,"ngIf"],["class","min-h-screen parent-container  mx-auto pt-10",4,"ngIf"],[1,"h-screen","flex","justify-center","items-center"],[1,"loader"],[1,"min-h-screen","parent-container","mx-auto","pt-10"],[1,"sm:flex","sm:justify-center"],[1,"sm:w-2/3","lg:w-1/3","mb-2","mx-auto","py-auto","sm:mx-0","lg:mt-4"],[1,"text-center","font-bold","text-3xl","cursor-pointer","mb-4",3,"click"],[1,"relative"],["type","text","placeholder","Search Courses","name","searchText",1,"border","border-gray-700","rounded-md","py-2","h-10","pl-4","pr-10","w-full","sm:text-sm",3,"ngModel","keyup","ngModelChange"],["svgIcon","heroicons_solid:search",1,"absolute","right-2","top-1.5","text-green-300",3,"click"],["class","flex justify-center items-center mt-8 mb-1.5",4,"ngIf"],[1,"text-center"],["type","submit",1,"uppercase","px-1","w-48","py-2","mt-1","mb-10","bg-pyramid-black","text-white","my-4","justify-center","rounded",3,"click"],["class","grid-container flex flex-row  justify-center sm:mx-0 flex-wrap gap-5 w-full courseGrid mb-6 sm:mb-12",4,"ngIf"],["class","flex items-center justify-center mb-12",4,"ngIf"],[1,"flex","justify-center","items-center","mt-8","mb-1.5"],[1,"text-3xl","font-[700]"],[1,"grid-container","flex","flex-row","justify-center","sm:mx-0","flex-wrap","gap-5","w-full","courseGrid","mb-6","sm:mb-12"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"course","newItemEvent"],[1,"min-h-128"],[1,"text-red-600","text-2xl","sm:text-3xl","md:text-5xl","font-bold","my-auto","mt-1/4"],[1,"flex","items-center","justify-center","mb-12"],[1,"inline-flex","items-center","px-4","py-2","mr-3","text-sm","font-medium","text-gray-500","rounded","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"disabled","click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z","clip-rule","evenodd"],[1,"inline-flex","items-center","px-4","py-2","text-sm","font-medium","rounded","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"disabled","click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","ml-2"],["fill-rule","evenodd","d","M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule","evenodd"]],template:function(t,n){1&t&&(e.YNc(0,ro,2,0,"div",0),e.YNc(1,uo,17,6,"div",1)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[g.Hw,a.sg,a.O5,s.Fj,s.JJ,s.On,q],styles:[".parent-container[_ngcontent-%COMP%]{width:80%!important;margin-left:10%!important;margin-right:10%!important}.card-container[_ngcontent-%COMP%]{display:flex;column-gap:18px!important;row-gap:18px!important;flex-wrap:wrap;justify-content:center!important;min-height:442px!important}.card[_ngcontent-%COMP%]{width:300px;margin:10px;border:1px solid #c7c5c5;border-radius:5px}@media (min-width: 600px) and (max-width: 900px){.card[_ngcontent-%COMP%]{width:270px!important}}"]}),o})()},{path:"pet/:conditionId/edit",component:io}];var mo=c(4385),go=c(9549),fo=c(3231);let ho=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(_o),h.ot,g.Ps,v.m,s.u5,s.UX,mo.LD,go.lN,fo.Co]}),o})()},8868:(F,D,c)=>{c.d(D,{e:()=>y});var h=c(529),g=c(2340),u=c(3900),v=c(9646),p=c(2843),J=c(262),A=c(4650),e=c(9299);let y=(()=>{class b{constructor(a,s){this.http=a,this.router=s}getJobList(a){return this.http.get(`${g.N.base_URL}/api/jobs/?page=${a}`).pipe((0,u.w)(s=>(0,v.of)(s)))}getJobDetailsbyID(a){return this.http.get(`${g.N.base_URL}/api/job/${a}`).pipe((0,J.K)(s=>(console.error("Error while fetching job details:",s),(0,p._)("Error in retrieving job"))))}getJobDetailsbyIdAndUserId(a,s){const d=localStorage.getItem("auth-token"),_=new h.WM({Authorization:"Bearer "+d});return this.http.get(`${g.N.base_URL}/api/job/${a}/user/${s}`,{headers:_}).pipe((0,J.K)(m=>(console.error("Error occurred while fetching job details:",m),(0,p._)("Error in retrieving job"))))}updateJobStatus(a,s){let d=new FormData;d.append("_method","PUT"),d.append("published",s),localStorage.getItem("user-id");const m=localStorage.getItem("auth-token"),f=new h.WM({Accept:"application/json",Authorization:"Bearer "+m});return this.http.post(`${g.N.base_URL}/api/job/update/${a}`,d,{headers:f}).pipe((0,u.w)(T=>(0,v.of)(T)))}removeApplyFee(a){let s=new FormData;s.append("_method","delete");const d=localStorage.getItem("auth-token"),_=new h.WM({Accept:"application/json",Authorization:"Bearer "+d});return this.http.post(`${g.N.base_URL}/api/jobapplyconditions/delete/${a}`,s,{headers:_}).pipe((0,u.w)(m=>(0,v.of)(m)))}addApplyFee(a,s,d,_){let m=new FormData;m.append("job_id",a),m.append("condition_type",s),m.append("condition_value",d),m.append("condition_description",_);const f=localStorage.getItem("auth-token"),T=new h.WM({Accept:"application/json",Authorization:"Bearer "+f});return this.http.post(`${g.N.base_URL}/api/jobapplyconditions/create`,m,{headers:T}).pipe((0,u.w)(Z=>(0,v.of)(Z)))}editApplyFee(a,s,d,_,m){let f=new FormData;f.append("_method","put"),f.append("job_id",a),f.append("condition_type",s),f.append("condition_value",d),f.append("condition_description",_);const T=localStorage.getItem("auth-token"),Z=new h.WM({Accept:"application/json",Authorization:"Bearer "+T});return this.http.post(`${g.N.base_URL}/api/jobapplyconditions/update/${m}`,f,{headers:Z}).pipe((0,u.w)(M=>(0,v.of)(M)))}applyJob(a,s){const d=localStorage.getItem("auth-token");return new h.WM({Accept:"application/json",Authorization:"Bearer "+d}),this.http.post(`${g.N.base_URL}/api/jobapplication/create`,{user_id:a,job_id:s})}addFavouriteJob(a){let s=new FormData;s.append("user_id",localStorage.getItem("user-id"));const d=localStorage.getItem("auth-token"),_=new h.WM({Accept:"application/json",Authorization:"Bearer "+d});return this.http.post(`${g.N.base_URL}/api/jobs/${a}/favorite`,s,{headers:_}).pipe((0,u.w)(m=>(0,v.of)(m)))}deleteFavouriteJob(a){const s=localStorage.getItem("auth-token"),d=new h.WM({Accept:"application/json",Authorization:"Bearer "+s}),_=(new h.LE).set("user_id",localStorage.getItem("user-id"));return this.http.delete(`${g.N.base_URL}/api/jobs/${a}/unfavorite`,{headers:d,params:_})}hasJobReadyProgramme(a){return this.http.get(`${g.N.base_URL}/api/hasjobreadyprogram/${a}`).pipe((0,u.w)(s=>(0,v.of)(s)))}addJobReadyProgramme(a,s){let d=new FormData;d.append("job_id",a),d.append("title",s);const _=localStorage.getItem("auth-token"),m=new h.WM({Accept:"application/json",Authorization:"Bearer "+_});return this.http.post(`${g.N.base_URL}/api/jobreadyprogram/create`,d,{headers:m}).pipe((0,u.w)(f=>(0,v.of)(f)))}removeJobReadyProgramme(a){let s=new FormData;s.append("_method","delete");const d=localStorage.getItem("auth-token"),_=new h.WM({Accept:"application/json",Authorization:"Bearer "+d});return this.http.post(`${g.N.base_URL}/api/jobreadyprogram/delete/${a}`,s,{headers:_}).pipe((0,u.w)(m=>(0,v.of)(m)))}addJobReadyCourse(a,s,d){let _=new FormData;_.append("job_id",a),_.append("course_id",s),_.append("course_name",d);const m=localStorage.getItem("auth-token"),f=new h.WM({Accept:"application/json",Authorization:"Bearer "+m});return this.http.post(`${g.N.base_URL}/api/jobreadycourse/create`,_,{headers:f}).pipe((0,u.w)(T=>(0,v.of)(T)))}removeJobReadyCourse(a,s){let d=new FormData;d.append("job_id",a),d.append("course_id",s);const _=localStorage.getItem("auth-token"),m=new h.WM({Accept:"application/json",Authorization:"Bearer "+_});return this.http.post(`${g.N.base_URL}/api/jobreadycourse/delete`,d,{headers:m}).pipe((0,u.w)(f=>(0,v.of)(f)))}}return b.\u0275fac=function(a){return new(a||b)(A.LFG(h.eN),A.LFG(e.F0))},b.\u0275prov=A.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()}}]);